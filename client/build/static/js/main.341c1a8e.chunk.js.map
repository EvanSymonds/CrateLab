{"version":3,"sources":["actions/index.js","themes.js","components/complex/home.jsx","components/basics/button.jsx","components/basics/logo.jsx","components/basics/dropzone.jsx","components/basics/progressBar.jsx","components/complex/fileUpload.jsx","components/basics/profilePicture.jsx","components/complex/sidebar.jsx","components/pages/main.jsx","components/complex/loginForm.jsx","components/pages/login.jsx","components/complex/signupForm.jsx","components/pages/signup.jsx","components/basics/projectCard.jsx","components/pages/projects.jsx","components/basics/themeChooser.jsx","components/basics/userDetails.jsx","components/complex/siteSettings.jsx","components/complex/userSettings.jsx","components/pages/settings.jsx","components/complex/supportForm.jsx","components/pages/support.jsx","components/basics/createRole.jsx","components/complex/roleList.jsx","components/basics/roleUser.jsx","components/complex/roleDetail.jsx","components/basics/valueSelect.jsx","components/complex/roleSettings.jsx","components/complex/team.jsx","components/basics/breadcrumb.jsx","components/basics/breadcrumbs.jsx","components/basics/colorPicker.jsx","components/complex/fileSystemMenu.jsx","components/basics/file.jsx","components/basics/renameProject.jsx","components/basics/authorisationMarker.jsx","hooks/useDebounce.jsx","components/basics/folder.jsx","components/complex/folderPage.jsx","components/complex/fileSystem.jsx","components/basics/selectThumbnail.jsx","components/basics/projectName.jsx","components/basics/slider.jsx","components/complex/authSliders.jsx","components/basics/deleteProject.jsx","components/basics/leaveProject.jsx","components/complex/projectSettings.jsx","components/basics/projectMenu.jsx","components/pages/projectPage.jsx","router.js","serviceWorker.js","reducers/index.js","index.js"],"names":["selectTheme","theme","type","payload","changeSettingsAuth","auth","editFilesAuth","redGreyTheme","createMuiTheme","palette","primary","main","red","contrastText","secondary","dark","grey","light","menuGradient","background","default","typography","button","fontWeight","textTransform","spacing","darkModeTheme","blue","responsiveFontSizes","Home","props","useState","setScrollPos","makeStyles","root","slidoverRight","width","height","borderTopLeftRadius","borderBottomLeftRadius","slidoverLeft","borderTopRightRadius","borderBottomRightRadius","useStyles","useEffect","getScrollPos","window","addEventListener","removeEventListener","document","body","scrollTop","documentElement","returnIcon","icon","size","CloudUpload","fontSize","Delete","AttachFile","GetApp","MoreHoriz","Lock","AccountCircle","Menu","Edit","ArrowDropUp","ArrowDropDown","ArrowLeft","ArrowRight","FormatColorFill","FormatColorText","Add","Close","Done","Button","getClasses","color","backgroundColor","classes","backgroundPrimary","useOther","disabled","style","normal","onClick","variant","component","buttonText","normalWithIcon","startIcon","fill","IconButton","display","flexDirection","Logo","image","position","left","right","top","bottom","backgroundSize","backgroundPosition","history","useHistory","ButtonBase","disableRipple","className","push","backgroundImage","DropzoneComponent","active","borderColor","useTheme","getColor","onDrop","useCallback","files","baseStyle","justifyContent","alignItems","borderRadius","borderWidth","borderStyle","margin","activeStyle","useDropzone","getRootProps","isDragActive","useMemo","onChange","e","target","id","htmlFor","ThemeProvider","aria-label","ProgressBar","test-data","progress","FileUpload","setFiles","maxFiles","uploadProgress","setUploadProgress","successfullyUploaded","setSuccessfullyUploaded","uploadable","setUploadable","error","setError","marginTop","marginLeft","errorMessage","onUpload","a","map","uploadFiles","credential","Promise","resolve","reject","forEach","file","i","config","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","copy","state","percentage","undefined","addSkeleton","length","formData","FormData","append","credentialType","folder_id","url","endpoint","axios","post","then","response","status","successArray","every","value","updateParent","onFileUploaded","Card","raised","Grid","container","direction","item","droppedFiles","Object","keys","console","log","marginBottom","fileName","complete","key","float","Typography","noWrap","renderUploadItems","name","ProfilePicture","profilePicture","setProfilePicture","uploading","setUploading","shape","overflow","cursor","mode","opacity","edit","get","user_id","data","imageStr","buffer","binary","slice","call","Uint8Array","b","String","fromCharCode","btoa","arrayBufferToBase64","toString","catch","Fragment","src","Modal","disableScrollLock","open","onClose","jwt","require","Sidebar","innerWidth","permanent","setPermanent","setOpen","menuItemsList","AssessmentOutlined","SettingsOutlined","HelpOutlineOutlined","itemText","menuItem","paddingLeft","menuItemSelected","drawerPaper","menuButton","userZone","avatar","marginRight","username","handleResize","onResize","handleOpen","handleClose","signOut","localStorage","removeItem","renderSignOut","getItem","renderUserZone","encrypted","token","decode","JSON","parse","substr","usernameNumber","Avatar","getLinkColor","itemName","path","location","pathname","split","toLowerCase","renderMenuItems","menuItems","Paper","square","elevation","Drawer","anchor","Divider","Main","permanentSidebar","setPermanentSidebar","notificationOpen","setNotificationOpen","socketIOClient","on","parseInt","border","backgroundClip","page","notification","padding","Snackbar","snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","LoginForm","setUsername","password","setPassword","showPassword","setShowPassword","showError","setShowError","inputPaper","inputIcons","inputDivider","input","iconButton","divider","handleSubmit","event","preventDefault","stringify","headers","onLogin","message","onSubmit","justify","xs","orientation","InputBase","required","placeholder","onMouseDown","edge","Visibility","VisibilityOff","renderError","align","onSignup","Login","setItem","reload","SignupForm","email","setEmail","password1","setPassword1","password2","setPassword2","handleClickShowPassword","handleMouseDownPassword","detail","Email","connect","selectedTheme","thumbnail","setThumbnail","project_id","mediaContainer","boxShadow","media","breakpoints","up","textBody","avatarGroup","marginBotton","paddingBottom","addIcon","createText","shadowStyles","useOverShadowStyles","darkModeShadowStyles","useBouncyShadowStyles","cx","ImageOutlined","AddRounded","CardMedia","textAlign","Box","fontFamily","project_name","members","role_id","results","rerender","AvatarGroup","max","memberList","member","isPublic","Public","Projects","projects","setProjects","invites","setInvites","loading","setLoading","renderProjectCards","roles","invitedArray","role","role_name","project","is_public","filter","projectArray","users","realUsers","user","num","Skeleton","animation","themes","handleChange","Radio","checked","UserDetails","setUser","setMode","usernameError","setUsernameError","emailError","setEmailError","header","usernameText","maxWidth","textOverflow","emailText","userNumbers","editButton","handleUsernameChange","handleEmailChange","details","TextField","label","helperText","SiteSettings","titleText","UserSettings","Settings","SupportForm","setName","setMessage","title","paddingRight","count","emailjs","send","message_html","from_name","reply_to","multiline","rowsMax","CircularProgress","Support","paddingTop","CreateRole","roleName","setRoleName","onAddRole","RoleList","addMemberOpen","setAddMemberOpen","tag","setTag","actionRole","actionRoleSelected","roleSelected","addMember","outlineStyle","usernameField","tagField","selected","api_role","onChangeMode","api_users","socket","emit","startAdornment","isNaN","RoleUser","anchorEl","setAnchorEl","confirmOpen","setConfirmOpen","userId","setUserId","usernameContainer","whiteSpace","confirm","onChangeRole","currentTarget","textContent","endIcon","userRole","MenuItem","deleteButton","RoleDetail","api_role_users","indexOf","ValueSelect","leftButton","center","rightButton","minValue","Remove","maxValue","RoleSettings","handleDelete","onAuthChange","newValue","authorisation_level","handleUpdateAuth","renderSettings","Team","setRoles","setSelected","authLevel","getAllRoles","rolesWithUsers","api_roles","roleWithUser","final_roles","allUsers","onDeleteRole","delete","newRole","auth_level","newRoles","index","Breadcrumb","useDimensions","ref","hover","setHover","handleMouseMove","ev","listenForDrag","clientX","x","clientY","y","handleMouseUp","handleAddFile","crumb","WebkitUserSelect","msUserSelect","userSelect","child","onReturn","folder_name","Breadcrumbs","finalCrumb","separator","ancestry","folder","ColorPicker","cube","clearCross","colors","onChangeColor","colorChange","colorsArray","renderColorCubes","FileSystemMenu","addOpen","setAddOpen","colorOpen","setColorOpen","addAnchorRef","useRef","colorAnchorRef","grid","popper","current","contains","handleListKeyDown","handleClickUpload","onClickUpload","handleCreateFolder","onCreateFolder","onColorChange","aria-controls","aria-haspopup","prevAddOpen","Popper","placement","transition","disablePortal","TransitionProps","Grow","ClickAwayListener","onClickAway","MenuList","autoFocusItem","onKeyDown","Description","selectedFolder","onAddAuth","prevColorOpen","folder_color","initialState","mouseX","mouseY","File","setState","isDragging","translateX","translateY","translate","setTranslate","prevTranslate","onDragStop","onSelect","selectFile","file_id","onDeselect","parentNode","text","draggable","fileTypes","renderIcon","fileType","onDragStart","onContextMenu","keepMounted","Boolean","getContentAnchorEl","transformOrigin","anchorReference","anchorPosition","link","createElement","href","appendChild","click","removeChild","RenameProject","defaultValue","projectName","setProjectName","close","AuthorisationMarker","level","authorisationLevel","setAuthorisationLevel","debouncedAuthLevel","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","onChangeAuth","editCard","getImageSource","onDecrease","onIncrease","markerId","projectSettings","renameOpen","setRenameOpen","editAuth","setEditAuth","centralCircle","folderIcon","folderColor","authMarker","arrowDropUp","selectFolder","handleCloseColor","new_auth","handleEnterFolder","canEditAuth","onDelete","FolderPage","selectedFile","setSelectedFile","setListenForDrag","skeletons","setSkeletons","folderContainer","fileContainer","onDeleteFile","onDeleteFolder","handleFolderSelect","folders","childFolder","handleDragStart","child_id","handleDragStop","skeleton","data-testid","fileIndex","file_type","file_name","skeletonCopy","shift","FileSystem","setFolder","setAncestry","getProjectFiles","destination","targetFolder","folderId","getFolderRendered","SelectThumbnail","uploadButton","content","CardContent","ProjectName","setActive","inputRef","React","inputText","inputProps","focus","Slider","setValue","slider","onChangeCommitted","setting","step","marks","returnMarks","min","updateSetting","onSliderChange","DeleteProject","isError","setIsError","goBack","LeaveProject","roleId","setRoleId","flexGrow","tabProps","Tabs","changePage","indicatorColor","textColor","scrollButtons","Tab","setPage","match","params","authToken","rows","change_settings_auth","edit_files_auth","renderPages","AuthenticatedRoute","Component","rest","render","to","from","settings","getThemeId","getSettings","returnTheme","exact","Signup","ProjectPage","hostname","combineReducers","action","projectFunctions","store","createStore","reducers","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.341c1a8e.chunk.js","sourcesContent":["export const selectTheme = (theme) => {\r\n  return {\r\n    type: \"THEME_SELECTED\",\r\n    payload: theme\r\n  }\r\n}\r\n\r\nexport const changeSettingsAuth = (auth) => {\r\n  return {\r\n    type: \"CHANGE_SETTINGS_AUTH\",\r\n    payload: auth\r\n  }\r\n}\r\n\r\nexport const editFilesAuth = (auth) => {\r\n  return {\r\n    type: \"EDIT_FILES_AUTH\",\r\n    payload: auth\r\n  }\r\n}","import { createMuiTheme, responsiveFontSizes } from \"@material-ui/core/styles\"\r\nimport { red, green, blue, grey, lightBlue, orange } from \"@material-ui/core/colors\"\r\n\r\n\r\nlet redGreyTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"light\",\r\n    primary: {\r\n      main: red[600],\r\n      contrastText: '#fff',\r\n    },\r\n    secondary: {\r\n      dark: grey[500],\r\n      main: grey[400],\r\n      light: grey[200],\r\n      menuGradient: \"linear-gradient(to right, #eeeeee 40%, #e0e0e0 70%)\",\r\n      contrastText: '#000'\r\n    },\r\n    background: {\r\n      default: \"#fff\"\r\n    }\r\n  },\r\n  typography:{\r\n    button: {\r\n      fontWeight: \"500\",\r\n      textTransform: 'none',\r\n    }\r\n  },\r\n  spacing: 4\r\n})\r\n\r\nlet darkModeTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary:{\r\n      main: blue[300]\r\n    },\r\n    secondary:{\r\n      dark: grey[300],\r\n      main: grey[500],\r\n      light: grey[700],\r\n      menuGradient: \"linear-gradient(to right, #616161 40%, #545454 70%)\",\r\n      contrastText: '#fff'\r\n    },\r\n    background: {\r\n      default: \"#424242\"\r\n    }\r\n  },\r\n  typography:{\r\n    button: {\r\n      fontWeight: \"500\",\r\n      textTransform: 'none',\r\n    }\r\n  },\r\n  spacing: 4\r\n})\r\n\r\ndarkModeTheme = responsiveFontSizes(darkModeTheme)\r\nredGreyTheme  = responsiveFontSizes(redGreyTheme)\r\nexport { redGreyTheme, darkModeTheme }","import React, { useState, useEffect } from \"react\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from \"@material-ui/core/card\";\r\n\r\nconst Home = (props) => {\r\n  const [scrollPos, setScrollPos] = useState(0)\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      \r\n    },\r\n    slidoverRight: {\r\n      width: 1000,\r\n      height: 600,\r\n      borderTopLeftRadius: 50,\r\n      borderBottomLeftRadius: 50,\r\n    },\r\n    slidoverLeft: {\r\n      width: 1000,\r\n      height: 800,\r\n      borderTopRightRadius: 50,\r\n      borderBottomRightRadius: 50,\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    getScrollPos()\r\n    window.addEventListener(\"scroll\", getScrollPos)\r\n    \r\n    return () => window.removeEventListener(\"scroll\", getScrollPos)\r\n  }, [])\r\n\r\n  const getScrollPos = () => {\r\n\r\n    setScrollPos(document.body.scrollTop || document.documentElement.scrollTop)\r\n\r\n  }\r\n\r\n\r\n  return (\r\n\r\n    <div>\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default Home","import React, { useState } from \"react\";\r\nimport MaterialButton from \"@material-ui/core/Button\"\r\nimport IconButton from \"@material-ui/core/IconButton\"\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { CloudUpload, Delete, AttachFile, GetApp, MoreHoriz, Lock, AccountCircle, Menu, Settings, Edit, ArrowDropUp, ArrowDropDown, ArrowLeft, ArrowRight, Folder, FormatColorFill, FormatColorText, Add, Close, Done } from \"@material-ui/icons\"\r\n\r\nexport const returnIcon = (icon, size) => {\r\n  switch (icon) {\r\n    case \"CloudUpload\":\r\n      return <CloudUpload fontSize={size}/>\r\n    case \"Delete\":\r\n      return <Delete fontSize={size}/>\r\n    case \"AttachFile\":\r\n      return <AttachFile fontSize={size}/>\r\n    case \"GetApp\":\r\n      return <GetApp fontSize={size}/>\r\n    case \"More\":\r\n      return <MoreHoriz fontSize={size}/>\r\n    case \"Lock\":\r\n      return <Lock fontSize={size}/>\r\n    case \"AccountCircle\":\r\n      return <AccountCircle fontSize={size}/>\r\n    case \"Menu\":\r\n      return <Menu fontSize={size}/>\r\n    case \"Settings\":\r\n      return <Settings fontSize={size}/>\r\n    case \"Edit\":\r\n      return <Edit fontSize={size}/>\r\n    case \"ArrowDropUp\":\r\n      return <ArrowDropUp fontSize={size}/>\r\n    case \"ArrowDropDown\":\r\n      return <ArrowDropDown fontSize={size}/>\r\n    case \"ArrowLeft\":\r\n      return <ArrowLeft fontSize={size}/>\r\n    case \"ArrowRight\":\r\n      return <ArrowRight fontSize={size}/>\r\n    case \"Folder\":\r\n      return <Folder fontSize={size}/>\r\n    case \"Fill\":\r\n      return <FormatColorFill fontSize={size}/>\r\n    case \"TextColor\":\r\n      return <FormatColorText fontSize={size}/>\r\n    case \"Add\":\r\n      return <Add fontSize={size}/>\r\n    case \"Close\":\r\n      return <Close fontSize={size}/>\r\n    case \"Done\":\r\n      return <Done fontSize={size}/>\r\n  }\r\n}\r\n\r\nconst Button = (props) => {\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      color: theme.palette.secondary.main,\r\n      \r\n      '&$disabled': {\r\n        color: theme.palette.secondary.light\r\n      },\r\n    },\r\n    backgroundPrimary: {\r\n      backgroundColor: theme.palette.primary,\r\n    },\r\n    useOther: {},\r\n    disabled: {},\r\n  }))\r\n\r\n  const getClasses = () => {\r\n    if (!props.color) {\r\n      return classes.root\r\n    } else if (props.backgroundColor === \"primary\") {\r\n      return classes.backgroundPrimary\r\n    } else {\r\n      return classes.useOther\r\n    }\r\n  }\r\n  const classes = useStyles()\r\n\r\n  const type = {\r\n    normal: {\r\n      button: <MaterialButton \r\n        classes={{\r\n          root: getClasses(),\r\n          disabled: classes.disabled\r\n        }}\r\n        disabled={props.disabled}\r\n        onClick={props.onClick}\r\n        variant={props.variant}\r\n        size={props.size}\r\n        color={props.color}\r\n        component={props.component}\r\n      >\r\n        {props.buttonText}\r\n      </MaterialButton>\r\n    },\r\n    normalWithIcon: {\r\n      button: <MaterialButton \r\n        classes={{\r\n          root: getClasses(),\r\n          disabled: classes.disabled\r\n        }} \r\n        disabled={props.disabled}\r\n        onClick={props.onClick} \r\n        startIcon={returnIcon(props.icon)}\r\n        variant={props.variant}\r\n        size={props.size}\r\n        color={props.color}\r\n        component={props.component}\r\n        fill={props.fill}\r\n      >\r\n        {props.buttonText}\r\n      </MaterialButton>\r\n    },\r\n    icon: {\r\n      button: <IconButton \r\n        classes={{\r\n          root: getClasses(),\r\n          disabled: classes.disabled\r\n        }}\r\n        disabled={props.disabled}\r\n        onClick={props.onClick}\r\n        component={props.component}\r\n        color={props.color}\r\n        fill={props.fill}\r\n        >\r\n          {returnIcon(props.icon, props.size)}\r\n        </IconButton>\r\n    }\r\n  }\r\n\r\n  const style = type[props.type]\r\n\r\n  return(\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n      }}\r\n    >\r\n      {style.button}\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Button;","import React from \"react\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ButtonBase from '@material-ui/core/ButtonBase';\r\n\r\nconst Logo = (props) => {\r\n\r\n  const image = {\r\n    url: \"/static/images/logo.png\",\r\n    name: \"Logo\",\r\n    width: 300,\r\n    height: 300\r\n  }\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    button: {\r\n      position: 'relative',\r\n      height: image.height / 3,\r\n      width: image.width / 3,\r\n    },\r\n    image: {\r\n      position: 'absolute',\r\n      left: 0,\r\n      right: 0,\r\n      top: 0,\r\n      bottom: 0,\r\n      backgroundSize: 'cover',\r\n      backgroundPosition: 'center'\r\n    }\r\n  }));\r\n  const classes = useStyles()\r\n  const history = useHistory()\r\n\r\n  return (\r\n    <div>\r\n      <ButtonBase \r\n        disableRipple\r\n        className={classes.button}\r\n        onClick={() => history.push(\"/\")}\r\n      >\r\n        <span\r\n          className={classes.image}\r\n          style={{\r\n            backgroundImage: `url(${image.url})`\r\n          }}\r\n        />\r\n      </ButtonBase>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Logo","import React, { useMemo } from \"react\";\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport Button from \"../basics/button\";\r\nimport grey from \"@material-ui/core/colors/grey\"\r\nimport { makeStyles, ThemeProvider } from \"@material-ui/styles\";\r\nimport { useCallback } from \"react\";\r\n\r\nconst DropzoneComponent = (props) => {\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      color: theme.palette.secondary.dark,\r\n    },\r\n    disabled: {\r\n      color: theme.palette.secondary.light\r\n    },\r\n    active: {\r\n      borderColor: theme.palette.primary\r\n    }\r\n  }))\r\n\r\n  const classes = useStyles()\r\n  const theme = useTheme()\r\n\r\n  const getColor = () => {\r\n    if (props.disabled === false) {\r\n      return classes.root\r\n    } else {\r\n      return classes.disabled\r\n    }\r\n  }\r\n\r\n  const handleChange = (e) => {\r\n\r\n    props.onDrop(e.target.files)\r\n  }\r\n\r\n  const onDrop = useCallback(files => {\r\n    props.onDrop(files)\r\n  })\r\n\r\n  const baseStyle = {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    width: 150,\r\n    height: 150,\r\n    borderRadius: 75,\r\n    borderWidth: 2,\r\n    borderStyle: 'dashed',\r\n    margin: \"30px\",\r\n  }\r\n\r\n  const activeStyle = {\r\n    borderColor: theme.palette.primary.main,\r\n  }\r\n\r\n  const {getRootProps, isDragActive} = useDropzone({onDrop})\r\n\r\n  const style = useMemo(() => ({\r\n    ...baseStyle,\r\n    ...(isDragActive ? activeStyle : {}),\r\n  }), [\r\n    isDragActive,\r\n  ]);\r\n\r\n  return (\r\n    <div data-test=\"component-dropzone\" {...getRootProps({style})} \r\n    className={getColor()}>\r\n      <div>\r\n        <input disabled={props.disabled} onChange={handleChange} id=\"icon-button-file\" type=\"file\"\r\n          style={{ display: \"none\" }}/>\r\n        <label\r\n          htmlFor=\"icon-button-file\">\r\n            <ThemeProvider theme={theme}>\r\n              <Button disabled={props.disabled} type=\"icon\" icon=\"GetApp\" size=\"large\" aria-label=\"upload picture\" component=\"span\" />\r\n            </ThemeProvider>\r\n        </label>\r\n      </div>\r\n      <div className={getColor()}>\r\n        Upload files\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default DropzoneComponent;","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\n\r\nconst ProgressBar = (props) => {\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: theme.palette.primary.main,\r\n    }\r\n  }))\r\n\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div test-data=\"component-progressBar\">\r\n      <div style={{\r\n        height: 5,\r\n        width: \"100%\",\r\n        borderRadius: \"5px\",\r\n      }} >\r\n        <div className={classes.root} style={{\r\n          height: \"100%\",\r\n          width: props.progress + \"%\",\r\n          borderRadius: \"5px\",\r\n          margin: 0,\r\n        }} />\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default ProgressBar;","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport axios from \"axios\"\r\nimport Dropzone from \"../basics/dropzone\"\r\nimport Button from \"../basics/button\"\r\nimport Card from \"@material-ui/core/card\"\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport ProgressBar from \"../basics/progressBar\"\r\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\r\nimport Typography from \"@material-ui/core/Typography\"\r\n\r\nconst FileUpload = (props) => {\r\n  const [files, setFiles] = useState([])\r\n  const [maxFiles, setMaxFiles] = useState(false)\r\n  const [uploadProgress, setUploadProgress] = useState({})\r\n  const [successfullyUploaded, setSuccessfullyUploaded] = useState([])\r\n  const [uploadable, setUploadable] = useState(true)\r\n  const [error, setError] = useState(\"\")\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      position: \"absolute\",\r\n      top: \"50%\",\r\n      left: \"50%\",\r\n      marginTop: \"-120px\",\r\n      marginLeft: \"-300px\",\r\n      borderRadius: 110,\r\n      width: 600,\r\n    },\r\n    errorMessage: {\r\n      color: theme.palette.primary.main\r\n    }\r\n  }))\r\n  const classes = useStyles()\r\n\r\n  const renderUploadItems = (fileName, progress, i, complete) => {\r\n    return (\r\n      <div key={i}>\r\n        <div style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\",\r\n          }}>\r\n          <div style={{\r\n            float: \"left\",\r\n            width: \"250px\"\r\n          }}>\r\n            <Typography noWrap>\r\n              {fileName}\r\n            </Typography>\r\n            <div style={{\r\n              width: \"250px\"\r\n            }}>\r\n              <ProgressBar progress={progress}/>\r\n            </div>\r\n          </div>\r\n          {complete ? <CheckCircleOutlineIcon color=\"secondary\"/> : null}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const onDrop = (e) => {\r\n    const droppedFiles = Object.keys(e).map(file => file)\r\n\r\n    if (files.length + e.length <= props.maxFiles) {\r\n      setError(\"\")\r\n      droppedFiles.forEach((file, i) => {\r\n        console.log(e[i])\r\n        setFiles((files) => [...files, e[i]])\r\n      })\r\n    } else {\r\n      setError(`Maximum of ${props.maxFiles} file${props.maxFiles > 1 ? \"s\" : \"\"}`)\r\n    }\r\n  }\r\n\r\n  const onUpload = async (e) => {\r\n\r\n    setSuccessfullyUploaded(files.map(() => {\r\n      return false\r\n    }))\r\n\r\n    await uploadFiles(props.credential)\r\n  }\r\n\r\n  const uploadFiles = async (credential) => {\r\n\r\n    setUploadable(false)\r\n\r\n    return new Promise( async(resolve, reject) => {\r\n\r\n      files.forEach(async (file, i) => {\r\n        setSuccessfullyUploaded([...successfullyUploaded, false])\r\n\r\n        const config = {\r\n          onUploadProgress: async (progressEvent) => {\r\n            let percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total)\r\n\r\n            const copy = {...uploadProgress}\r\n            copy[i] = {\r\n              state: \"pending\",\r\n              percentage: percentCompleted\r\n            }\r\n\r\n            if (percentCompleted === 100 && props.addSkeleton !== undefined) {\r\n              props.addSkeleton(files.length)\r\n            }\r\n\r\n            await setUploadProgress((uploadProgress) => {\r\n              return {...uploadProgress, ...copy}\r\n            })\r\n          },\r\n        }\r\n    \r\n        let formData = new FormData()\r\n        formData.append(\"file\", file)\r\n        formData.append(props.credentialType, credential)\r\n        if (props.folder_id !== undefined) {\r\n          formData.append(\"folder_id\", props.folder_id)\r\n        }\r\n\r\n        const url = \"/api\" + props.endpoint\r\n\r\n\r\n        await axios.post(url, formData, config).then((response, error) => {\r\n          if (error) {\r\n            reject(\"Error: \", error)\r\n            setUploadable(true)\r\n          } else {\r\n            if (response.status === 200) {\r\n              let successArray = successfullyUploaded\r\n              successArray[i] = true\r\n              setSuccessfullyUploaded(successArray)\r\n\r\n              const isEqualToTrue = (value) => value === true;\r\n              if (successfullyUploaded.length > 0) {\r\n                if (successfullyUploaded.every(isEqualToTrue) === true) {\r\n                  props.updateParent()\r\n                  props.onFileUploaded()\r\n                  resolve()\r\n                }\r\n              }\r\n            }\r\n          }\r\n        })\r\n      })\r\n\r\n    })\r\n\r\n  }\r\n  \r\n\r\n  return (\r\n\r\n    <Card\r\n      raised={true} \r\n      className={classes.root}\r\n    >\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n        alignItems=\"center\"\r\n      >\r\n        <Grid\r\n          item\r\n        >\r\n          <Dropzone onDrop={onDrop} disabled={maxFiles} />\r\n        </Grid>\r\n        <Grid\r\n          item\r\n          style={{\r\n            width: \"250px\",\r\n            marginBottom: \"30px\",\r\n            marginTop: \"20px\",\r\n          }}\r\n        >\r\n          {files.map((file, i) => renderUploadItems(file.name, uploadProgress[i] ? uploadProgress[i].percentage : 0, i,  uploadProgress[i] ? (uploadProgress[i].percentage === 100 ? true : false) : false))}\r\n          <div\r\n            className={classes.errorMessage}\r\n          >\r\n            {error}\r\n          </div>\r\n        </Grid>\r\n        <Grid\r\n          item\r\n          style={{\r\n            position: \"relative\",\r\n            left: \"50px\",\r\n          }}\r\n        >\r\n          <Button data-test=\"component-uploadButton\" size=\"large\" type=\"icon\" icon=\"CloudUpload\" color=\"primary\" onClick={onUpload} disabled={!uploadable}/>\r\n        </Grid>\r\n      </Grid>\r\n    </Card>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default FileUpload","import React, { useState, useEffect } from \"react\"\r\nimport { makeStyles } from \"@material-ui/styles\"\r\nimport { Edit } from '@material-ui/icons/';\r\nimport Modal from \"@material-ui/core/modal\"\r\nimport FileUpload from \"../complex/fileUpload\"\r\nimport { AccountCircle } from \"@material-ui/icons\"\r\nimport axios from \"axios\"\r\n\r\nconst ProfilePicture = (props) => {\r\n  const [profilePicture, setProfilePicture] = useState(\"\")\r\n  const [uploading, setUploading] = useState(false)\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: props.width,\r\n      height: props.height,\r\n      borderRadius: props.shape === \"circle\" ? props.width / 2 : 0,\r\n      overflow: \"hidden\",\r\n      cursor: props.mode === \"edit\" ? \"pointer\" : \"auto\",\r\n      opacity: props.mode === \"edit\" ? 0.8 : 1,\r\n      backgroundColor: theme.palette.background.default\r\n    },\r\n    edit: {\r\n      width: props.width,\r\n      height: props.height / 3,\r\n      backgroundColor: theme.palette.secondary.main,\r\n      opacity: 0.8,\r\n      marginTop: -(props.height / 3 + 4),\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      fontSize: props.height / 5\r\n    }\r\n  }));\r\n  const classes = useStyles()\r\n\r\n  useEffect(() => {\r\n    const arrayBufferToBase64 = (buffer) => {\r\n      var binary = '';\r\n      var bytes = [].slice.call(new Uint8Array(buffer));\r\n      bytes.forEach((b) => binary += String.fromCharCode(b));\r\n      return window.btoa(binary);\r\n    };\r\n\r\n    axios.get(\"/api/profile_pictures/user/\" + props.user_id).then((data) => {\r\n      const base64Flag = 'data:image/png;base64,'\r\n      const imageStr = arrayBufferToBase64(data.data.data.data)\r\n      setProfilePicture(((base64Flag + imageStr).toString()))\r\n    })\r\n    .catch((error) => {\r\n      setProfilePicture(\"\")\r\n      console.log(error)\r\n    })\r\n  }, [props.user_id])\r\n\r\n  const updateProfilePicture = () => {\r\n    const arrayBufferToBase64 = (buffer) => {\r\n      var binary = '';\r\n      var bytes = [].slice.call(new Uint8Array(buffer));\r\n      bytes.forEach((b) => binary += String.fromCharCode(b));\r\n      return window.btoa(binary);\r\n    };\r\n\r\n    axios.get(\"/api/profile_pictures/user/\" + props.user_id).then((data) => {\r\n      const base64Flag = 'data:image/png;base64,'\r\n      const imageStr = arrayBufferToBase64(data.data.data.data)\r\n      setProfilePicture(((base64Flag + imageStr).toString()))\r\n    })\r\n    .catch((error) => {\r\n      setProfilePicture(\"\")\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div\r\n        className={classes.root}\r\n        onClick={() => props.mode === \"edit\" ? setUploading(true) : null}\r\n      >\r\n        {profilePicture === \"\" ? \r\n        <AccountCircle className={classes.root} color=\"secondary\"/>\r\n        : \r\n        <img src={profilePicture} className={classes.root}/>}\r\n        {props.mode === \"edit\" ? \r\n          <div \r\n            className={classes.edit}\r\n          >\r\n            <Edit fontSize=\"inherit\"/>\r\n          </div>\r\n        : null }\r\n      </div>\r\n      <Modal\r\n        disableScrollLock\r\n        open={uploading}\r\n        onClose={() => setUploading(false)}\r\n      >\r\n        <div>\r\n          <FileUpload \r\n            updateParent={updateProfilePicture}\r\n            credentialType=\"user_id\"\r\n            credential={props.credential}\r\n            maxFiles={1}\r\n            endpoint=\"/profile_pictures\"  \r\n          />\r\n        </div>\r\n      </Modal>\r\n    </React.Fragment>\r\n  )\r\n\r\n}\r\n\r\nexport default ProfilePicture","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Button from \"../basics/button\"\r\nimport Logo from \"../basics/logo\"\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Divider from \"@material-ui/core/Divider\"\r\nimport Paper from \"@material-ui/core/Paper\"\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Avatar from \"@material-ui/core/Avatar\"\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport { Typography } from '@material-ui/core';\r\nimport ProfilePicture from \"../basics/profilePicture\"\r\nimport { AssessmentOutlined, SettingsOutlined, HelpOutlineOutlined } from '@material-ui/icons/';\r\n\r\nvar jwt = require(\"jsonwebtoken\")\r\n\r\nconst Sidebar = (props) => {\r\n  const [permanent, setPermanent] = useState(window.innerWidth > 1000 ? true : false)\r\n  const [open, setOpen] = useState(false);\r\n  \r\n  const menuItemsList = [\r\n    { \r\n      name: \"Projects\",\r\n      icon: <AssessmentOutlined/>\r\n    },\r\n    { \r\n      name: \"Settings\",\r\n      icon: <SettingsOutlined/>\r\n    },\r\n    { \r\n      name: \"Support\",\r\n      icon: <HelpOutlineOutlined/>\r\n    }\r\n  ]\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: 250,\r\n      display: \"inline\"\r\n    },\r\n    itemText: {\r\n      fontSize: 20,\r\n      marginLeft: 10,\r\n    },\r\n    menuItem: {\r\n      backgroundColor: theme.palette.secondary.light,\r\n      height: 50,\r\n      paddingLeft: 20,\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      cursor: 'pointer',\r\n      \"&:hover\": {\r\n        background: theme.palette.secondary.menuGradient\r\n      }\r\n    },\r\n    menuItemSelected: {\r\n      background: theme.palette.secondary.menuGradient,\r\n      height: 50,\r\n      paddingLeft: 20,\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      cursor: 'pointer',\r\n      \"&:hover\": {\r\n        background: theme.palette.secondary.menuGradient\r\n      }\r\n    },\r\n    drawerPaper: {\r\n      width: 250,\r\n      height: \"100%\",\r\n      background: theme.palette.secondary.light\r\n    },\r\n    menuButton: {\r\n      display: \"inline\",\r\n      width: 48,\r\n    },\r\n    userZone: {\r\n      width: 250,\r\n      height: 100,\r\n    },\r\n    avatar: {\r\n      width: 60,\r\n      height: 60,\r\n      marginLeft: 15,\r\n      marginRight: 10,\r\n    },\r\n    profilePicture: {\r\n      width: 60,\r\n      height: 60,\r\n    },\r\n    username: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"center\",\r\n      width: 116,\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n  const history = useHistory()\r\n\r\n  const handleResize = () => {\r\n    if (window.innerWidth <= 1000) {\r\n      setPermanent(false)\r\n      props.onResize()\r\n    } else if (window.innerWidth > 1000) {\r\n      setPermanent(true)\r\n      props.onResize()\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('resize', handleResize)\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize)\r\n    }\r\n  }, [])\r\n  \r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const signOut = () => {\r\n    window.localStorage.removeItem(\"authToken\")\r\n    history.push(\"/\")\r\n  }\r\n\r\n  const renderSignOut = () => {\r\n    if (window.localStorage.getItem(\"authToken\") !== null){\r\n      return (\r\n      <div style={{\r\n        marginTop: 10\r\n      }}>\r\n        <Button type=\"normal\" variant=\"outlined\" buttonText=\"Sign out\" onClick={signOut} color=\"primary\" />\r\n      </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  const renderUserZone = () => {\r\n\r\n    if (!window.localStorage.getItem(\"authToken\")){\r\n      return (\r\n        <div style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          height: \"100%\",\r\n        }}>\r\n          <div style={{\r\n            margin: 10\r\n          }}>\r\n            <Button type=\"normal\" variant=\"outlined\" buttonText=\"Sign up\" color=\"primary\" onClick={() => history.push(\"/signup\")}/>\r\n          </div>\r\n          <div style={{\r\n            margin: 10\r\n          }}>\r\n            <Button type=\"normal\" variant=\"contained\" buttonText=\"Login\" color=\"primary\" onClick={() => history.push(\"/login\")}/>\r\n          </div>\r\n        </div>\r\n      )\r\n    } else {\r\n      const encrypted = window.localStorage.getItem(\"authToken\")\r\n      const token = jwt.decode(JSON.parse(encrypted))\r\n\r\n      const username = token.name.substr(0, token.name.length - 5)\r\n      const usernameNumber = token.name.substr(token.name.length - 5)\r\n\r\n      return (\r\n        <div style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          height: 100,\r\n        }}>\r\n          <Avatar className={classes.avatar}>\r\n            <ProfilePicture user_id={token.user_id} width={60} height={60}/>\r\n          </Avatar>\r\n          <div className={classes.username}>\r\n            <Typography noWrap style={{\r\n              display: \"block\",\r\n              fontWeight: \"bold\",\r\n              fontSize: 14,\r\n            }} variant=\"h6\">{username}</Typography>\r\n            <Typography color=\"primary\" style={{\r\n              display: \"block\"\r\n            }} variant=\"caption\">{usernameNumber}</Typography>\r\n          </div>\r\n          <Button type=\"icon\" icon=\"Settings\" onClick={() => history.push(\"/settings\")} color=\"primary\"/>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  const getLinkColor = (itemName) => {\r\n    const path = window.location.pathname.split(\"/\")\r\n\r\n    if (itemName.toLowerCase() === path[1]) {\r\n      return classes.menuItemSelected\r\n    } else {\r\n      return classes.menuItem\r\n    }\r\n  }\r\n\r\n  const renderMenuItems = () => {\r\n\r\n    const menuItems = menuItemsList.map((item, i) => {\r\n      return (\r\n        <Paper \r\n          square\r\n          key={i}\r\n          className={getLinkColor(item.name)}\r\n          elevation={0}\r\n          onClick={() => history.push(`/${item.name.toLowerCase()}`)}\r\n        >\r\n          {item.icon}\r\n          <Typography variant=\"body2\" className={classes.itemText}>\r\n            {item.name}\r\n          </Typography>\r\n        </Paper>\r\n      )\r\n    })\r\n\r\n    return (\r\n      <Grid \r\n        container \r\n        direction=\"column\"\r\n      >\r\n        <Grid item style={{\r\n          marginBottom: 15,\r\n          marginTop: 15,\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\"\r\n        }}>\r\n\r\n          <Logo />\r\n        </Grid>\r\n        <Grid item>\r\n          {menuItems}\r\n        </Grid>\r\n      </Grid>\r\n    )\r\n  }\r\n\r\n  const renderSidebar = () => {\r\n    if (permanent) {\r\n      return (\r\n        <Drawer\r\n          className={classes.root}\r\n          variant=\"permanent\"\r\n          anchor=\"left\"\r\n        >\r\n          <Paper square className={classes.drawerPaper}>\r\n            <div className={classes.userZone}>\r\n              {renderUserZone()}\r\n              <Divider variant=\"middle\" />\r\n            </div>\r\n            <div>\r\n              {renderMenuItems()}\r\n            </div>\r\n            <div style={{\r\n                position: \"absolute\",\r\n                width: 250,\r\n                bottom: 10,\r\n                display: \"flex\",\r\n                justifyContent: \"center\"\r\n              }}>\r\n                {renderSignOut()}\r\n              </div>\r\n          </Paper>\r\n        </Drawer>\r\n      )\r\n    } else {\r\n      return (\r\n        <div style={{\r\n          width: 48,\r\n          position: \"fixed\",\r\n        }}>\r\n          <Button className={classes.menuButton} type=\"icon\" icon=\"Menu\" color=\"primary\" onClick={handleOpen}/>\r\n          <Modal\r\n            open={open}\r\n            disableScrollLock\r\n            onClose={handleClose}\r\n          >\r\n            <Drawer\r\n              className={classes.root}\r\n              variant=\"permanent\"\r\n              anchor=\"left\"\r\n            >\r\n              <Paper square className={classes.drawerPaper}>\r\n                <div className={classes.userZone}>\r\n                  {renderUserZone()}\r\n                  <Divider variant=\"middle\" />\r\n                  {renderMenuItems()}\r\n                </div>\r\n              </Paper>\r\n              <div style={{\r\n                position: \"absolute\",\r\n                width: 250,\r\n                bottom: 10,\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n              }}>\r\n                {renderSignOut()}\r\n              </div>\r\n            </Drawer>\r\n          </Modal>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={{\r\n      width: 48,\r\n      display: \"inline\",\r\n    }}>\r\n      {renderSidebar()}\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Sidebar","import React, { useState, useEffect } from \"react\";\r\nimport Home from \"../complex/home\"\r\nimport Sidebar from \"../complex/sidebar\"\r\nimport Paper from \"@material-ui/core/paper\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Button from \"../basics/button\"\r\nimport socketIOClient from \"socket.io-client\";\r\n\r\nvar jwt = require(\"jsonwebtoken\")\r\n\r\nconst Main = (props) => {\r\n  const [permanentSidebar, setPermanentSidebar] = useState(window.innerWidth > 1000 ? true : false)\r\n  const [notificationOpen, setNotificationOpen] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const socket = socketIOClient(\"http://localhost:3001\");\r\n    socket.on(\"PROJECT_INVITE\", (data) => {\r\n      if (window.localStorage.getItem(\"authToken\")) {\r\n        const encrypted = window.localStorage.getItem(\"authToken\")\r\n        const token = jwt.decode(JSON.parse(encrypted))\r\n\r\n        if (parseInt(token.user_id) === data) {\r\n          setNotificationOpen(true)\r\n        }\r\n      }\r\n    });\r\n  }, [])\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    '@global': {\r\n      '*::-webkit-scrollbar': {\r\n        width: 16,\r\n        backgroundColor: theme.palette.background.default,\r\n      },\r\n      '*::-webkit-scrollbar-thumb': {\r\n        backgroundColor: theme.palette.secondary.main,\r\n        width: 6,\r\n        border: \"4px solid rgba(0, 0, 0, 0)\",\r\n        backgroundClip: \"padding-box\",\r\n        borderRadius: 10\r\n      }\r\n    },\r\n    page: {\r\n      marginLeft: permanentSidebar ? 250 : 0,\r\n    },\r\n    background:{\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n      width: \"100%\",\r\n      height: \"calc(100% + 10px)\"\r\n    },\r\n    notification: {\r\n      backgroundColor: theme.palette.secondary.light,\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      alignItems: \"center\",\r\n      padding: '0px 5px 0px 10px',\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const onResize = () => {\r\n    if (window.innerWidth <= 1000){\r\n      setPermanentSidebar(false)\r\n    } else if (window.innerWidth > 1000) {\r\n      setPermanentSidebar(true)\r\n    }\r\n  }\r\n\r\n  return(\r\n    <Paper square className={classes.background}>\r\n      <Sidebar onResize={onResize}/>\r\n      <div className={classes.page}>\r\n        <Home />\r\n      </div>\r\n      <Snackbar\r\n        className={classes.snackbar}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'center',\r\n        }}\r\n        open={notificationOpen}\r\n        autoHideDuration={3000}\r\n        onClose={() => setNotificationOpen(false)}\r\n      >\r\n        <Paper\r\n          className={classes.notification}\r\n        >\r\n          <div\r\n            style={{\r\n              fontSize: 15,\r\n              marginRight: 15\r\n            }}\r\n          >\r\n            New project invite!\r\n          </div>\r\n          <Button\r\n            type=\"icon\"\r\n            icon=\"Close\"\r\n            onClick={() => setNotificationOpen(false)}\r\n          />\r\n        </Paper>\r\n      </Snackbar>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default Main;","import React, { useState } from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from \"@material-ui/core/Button\"\r\nimport IconButton from \"@material-ui/core/IconButton\"\r\nimport Paper from \"@material-ui/core/Paper\"\r\nimport InputBase from \"@material-ui/core/InputBase\"\r\nimport {AccountCircle, Lock, Visibility, VisibilityOff} from \"@material-ui/icons\"\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport Divider from \"@material-ui/core/Divider\"\r\nimport Typography from \"@material-ui/core/Typography\"\r\nimport axios from \"axios\"\r\n\r\nconst LoginForm = (props) => {\r\n  const [username, setUsername] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n  const [showPassword, setShowPassword] = useState(false)\r\n  const [showError, setShowError] = useState(false)\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: 400,\r\n      padding: 40,\r\n      background: theme.palette.secondary.light\r\n    },\r\n    inputPaper: {\r\n      padding: \"2px 4px\",\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n\r\n      width: 340,\r\n      height: 50,\r\n    },\r\n    inputIcons:{\r\n      \r\n    },\r\n    inputDivider:{\r\n      margin: 4,\r\n      height: 40\r\n    },\r\n    input: {\r\n      marginLeft: 5,\r\n      width: 240,\r\n    },\r\n    iconButton: {\r\n      padding: 10,\r\n    },\r\n    divider: {\r\n      height: 28,\r\n      margin: 4,\r\n    },\r\n  }));\r\n\r\n  const classes = useStyles();\r\n\r\n  const handleClickShowPassword = () => {\r\n    setShowPassword(!showPassword)\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const renderError = () => {\r\n    if (showError === true) {\r\n      return (<Typography color=\"primary\">\r\n          Username or password incorrect\r\n        </Typography>\r\n      )\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const formData = new FormData()\r\n\r\n    formData.append(\"credential\", username)\r\n    formData.append(\"password\", password)\r\n\r\n    const url = \"/api/auth\"\r\n\r\n    try {\r\n      await axios.post(url, formData).then((response) =>{\r\n        if (response.status === 200){\r\n          const token = JSON.stringify(response.headers[\"x-auth-token\"])\r\n          props.onLogin(token)\r\n        }\r\n      })\r\n    }\r\n    catch (error) {\r\n      if (error.message.substr(error.message.length - 3) === \"401\") {\r\n        setShowError(true)\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n\r\n      <Paper component=\"form\" onSubmit={handleSubmit} className={classes.root}>\r\n        <Grid direction=\"row\" justify=\"center\" container spacing={1}>\r\n          <Grid item xs style={{\r\n            margin: \"10px\",\r\n          }}>\r\n            <Grid container direction=\"row\" justify=\"center\">\r\n              <Paper square className={classes.inputPaper}>\r\n                <AccountCircle color=\"secondary\" fontSize=\"large\" className={classes.inputIcons}/>\r\n                <Divider orientation=\"vertical\" className={classes.inputDivider}/>\r\n                <InputBase required onChange={(e) => setUsername(e.target.value)} placeholder=\"Username or email\" className={classes.input}/>\r\n              </Paper>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item xs style={{\r\n            margin: \"10px\",\r\n          }}>\r\n            <Grid container direction=\"row\" justify=\"center\">\r\n              <Paper square className={classes.inputPaper}>\r\n                <Lock color=\"secondary\" fontSize=\"large\" className={classes.inputIcons}/>\r\n                <Divider orientation=\"vertical\" className={classes.inputDivider}/>\r\n                <InputBase required onChange={(e) => setPassword(e.target.value)} type={showPassword ? 'text' : 'password'} placeholder=\"Password\" className={classes.input}/>\r\n                <IconButton\r\n                  aria-label=\"toggle password visibility\"\r\n                  onClick={handleClickShowPassword}\r\n                  onMouseDown={handleMouseDownPassword}\r\n                  edge=\"end\"\r\n                >\r\n                  {showPassword ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </Paper>\r\n            </Grid>\r\n          </Grid>\r\n          {renderError()}\r\n          <Grid item xs={6} align=\"center\" >\r\n            <div style={{\r\n              marginTop: \"20px\",\r\n              display: \"inline-block\",\r\n            }}>\r\n              <Button onClick={props.onSignup} variant=\"text\" color=\"primary\">Sign up</Button>\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={6}align=\"center\" >\r\n            <div style={{\r\n              marginTop: \"20px\",\r\n              display: \"inline-block\"\r\n            }}>\r\n              <Button type=\"submit\" variant=\"outlined\" color=\"primary\">Login</Button>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default LoginForm;","import React, { useState } from \"react\";\r\nimport LoginForm from \"../complex/loginForm\"\r\nimport Sidebar from \"../complex/sidebar\"\r\nimport Paper from \"@material-ui/core/paper\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst Login = (props) => {\r\n  const [permanentSidebar, setPermanentSidebar] = useState(window.innerWidth > 1000 ? true : false)\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    '@global': {\r\n      '*::-webkit-scrollbar': {\r\n        width: 16,\r\n        backgroundColor: theme.palette.background.default,\r\n      },\r\n      '*::-webkit-scrollbar-thumb': {\r\n        backgroundColor: theme.palette.secondary.main,\r\n        width: 6,\r\n        border: \"4px solid rgba(0, 0, 0, 0)\",\r\n        backgroundClip: \"padding-box\",\r\n        borderRadius: 10\r\n      }\r\n    },\r\n    page: {\r\n      marginLeft: permanentSidebar ? 250 : 0,\r\n      display: \"flex\",\r\n      height: \"100%\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\"\r\n    },\r\n    background:{\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n      width: \"100%\",\r\n      height: \"100%\"\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const onLogin = (token) => {\r\n    window.localStorage.setItem(\"authToken\", token)\r\n    history.push(\"/\")\r\n    window.location.reload(false);\r\n  }\r\n\r\n  const onClickSignup = () => {\r\n    history.push(\"/signup\")\r\n  }\r\n\r\n  const onResize = () => {\r\n    if (window.innerWidth <= 1000){\r\n      setPermanentSidebar(false)\r\n    } else if (window.innerWidth > 1000) {\r\n      setPermanentSidebar(true)\r\n    }\r\n  }\r\n\r\n  return(\r\n    <Paper square className={classes.background}>\r\n      <Sidebar onResize={onResize}/>\r\n      <div className={classes.page}>\r\n        <LoginForm onLogin={onLogin} onSignup={onClickSignup}/>\r\n      </div>\r\n    </Paper> \r\n  )\r\n}\r\n\r\nexport default Login;","import React, { useState } from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from \"@material-ui/core/Button\"\r\nimport IconButton from \"@material-ui/core/IconButton\"\r\nimport Paper from \"@material-ui/core/Paper\"\r\nimport InputBase from \"@material-ui/core/InputBase\"\r\nimport {AccountCircle, Email, Lock, Visibility, VisibilityOff} from \"@material-ui/icons\"\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport Divider from \"@material-ui/core/Divider\"\r\nimport axios from \"axios\"\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nconst SignupForm = (props) => {\r\n  const [username, setUsername] = useState(\"\")\r\n  const [email, setEmail] = useState(\"\")\r\n  const [password1, setPassword1] = useState(\"\")\r\n  const [password2, setPassword2] = useState(\"\")\r\n  const [showPassword, setShowPassword] = useState(false)\r\n  const [error, setError] = useState(\"\")\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: 400,\r\n      padding: 40,\r\n      margin: 50,\r\n      background: theme.palette.secondary.light\r\n    },\r\n    inputPaper: {\r\n      padding: \"2px 4px\",\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n\r\n      width: 340,\r\n      height: 50,\r\n    },\r\n    inputIcons:{\r\n      \r\n    },\r\n    inputDivider:{\r\n      margin: 4,\r\n      height: 40\r\n    },\r\n    input: {\r\n      marginLeft: 5,\r\n      width: 240,\r\n    },\r\n    iconButton: {\r\n      padding: 10,\r\n    },\r\n    divider: {\r\n      height: 28,\r\n      margin: 4,\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const handleClickShowPassword = () => {\r\n    setShowPassword(!showPassword)\r\n  };\r\n\r\n  const handleMouseDownPassword = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault()\r\n\r\n    if (password1 === password2) {\r\n\r\n      const formData = new FormData()\r\n\r\n      formData.append(\"username\", username)\r\n      formData.append(\"email\", email)\r\n      formData.append(\"password\", password1)\r\n\r\n      const url = \"/api/auth/signup\"\r\n\r\n      try {\r\n        await axios.post(url, formData).then((response) => {\r\n          if (response.status === 200){\r\n            const token = JSON.stringify(response.headers[\"x-auth-token\"])\r\n            props.onSignup(token)\r\n          }\r\n        })\r\n      }\r\n      catch (error) {\r\n        setError(error.response.data.detail)\r\n      }\r\n\r\n    } else {\r\n      setError(\"Passwords must match\")\r\n    }\r\n  }\r\n\r\n  const renderError = () => {\r\n      return ( <Typography color=\"primary\">\r\n          {error}\r\n        </Typography>\r\n      )\r\n  }\r\n\r\n  return (\r\n\r\n      <Paper component=\"form\" onSubmit={handleSubmit} className={classes.root}>\r\n        <Grid direction=\"row\" justify=\"center\" container spacing={1}>\r\n          <Grid item xs style={{\r\n            margin: \"10px\",\r\n          }}>\r\n            <Grid container direction=\"row\" justify=\"center\">\r\n              <Paper square className={classes.inputPaper}>\r\n                <AccountCircle color=\"secondary\" fontSize=\"large\" className={classes.inputIcons}/>\r\n                <Divider orientation=\"vertical\" className={classes.inputDivider}/>\r\n                <InputBase required onChange={(e) => setUsername(e.target.value)} placeholder=\"Username\" className={classes.input}/>\r\n              </Paper>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item xs style={{\r\n            margin: \"10px\",\r\n          }}>\r\n            <Grid container direction=\"row\" justify=\"center\">\r\n              <Paper square className={classes.inputPaper}>\r\n                <Email color=\"secondary\" fontSize=\"large\" className={classes.inputIcons}/>\r\n                <Divider orientation=\"vertical\" className={classes.inputDivider}/>\r\n                <InputBase required onChange={(e) => setEmail(e.target.value)} placeholder=\"Email\" className={classes.input}/>\r\n              </Paper>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item xs style={{\r\n            margin: \"10px\",\r\n          }}>\r\n            <Grid container direction=\"row\" justify=\"center\">\r\n              <Paper square className={classes.inputPaper}>\r\n                <Lock color=\"secondary\" fontSize=\"large\" className={classes.inputIcons}/>\r\n                <Divider orientation=\"vertical\" className={classes.inputDivider}/>\r\n                <InputBase required onChange={(e) => setPassword1(e.target.value)} type={showPassword ? 'text' : 'password'} placeholder=\"Password\" className={classes.input}/>\r\n                <IconButton\r\n                  aria-label=\"toggle password visibility\"\r\n                  onClick={handleClickShowPassword}\r\n                  onMouseDown={handleMouseDownPassword}\r\n                  edge=\"end\"\r\n                >\r\n                  {showPassword ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </Paper>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item xs style={{\r\n            margin: \"10px\",\r\n          }}>\r\n            <Grid container direction=\"row\" justify=\"center\">\r\n              <Paper square className={classes.inputPaper}>\r\n                <Lock color=\"secondary\" fontSize=\"large\" className={classes.inputIcons}/>\r\n                <Divider orientation=\"vertical\" className={classes.inputDivider}/>\r\n                <InputBase required onChange={(e) => setPassword2(e.target.value)} type={showPassword ? 'text' : 'password'} placeholder=\"Confirm password\" className={classes.input}/>\r\n                <IconButton\r\n                  aria-label=\"toggle password visibility\"\r\n                  onClick={handleClickShowPassword}\r\n                  onMouseDown={handleMouseDownPassword}\r\n                  edge=\"end\"\r\n                >\r\n                  {showPassword ? <Visibility /> : <VisibilityOff />}\r\n                </IconButton>\r\n              </Paper>\r\n            </Grid>\r\n          </Grid>\r\n          {renderError()}\r\n          <Grid item xs={12} align=\"center\" >\r\n            <div style={{\r\n              margin: \"20px\",\r\n              display: \"inline-block\",\r\n            }}>\r\n              <Button type=\"submit\" variant=\"outlined\" color=\"primary\">Create account</Button>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default SignupForm;","import React, { useState } from \"react\";\r\nimport SignupForm from \"../complex/signupForm\"\r\nimport Sidebar from \"../complex/sidebar\"\r\nimport Paper from \"@material-ui/core/paper\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst Login = (props) => {\r\n  const [permanentSidebar, setPermanentSidebar] = useState(window.innerWidth > 1000 ? true : false)\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    '@global': {\r\n      '*::-webkit-scrollbar': {\r\n        width: 16,\r\n        backgroundColor: theme.palette.background.default,\r\n      },\r\n      '*::-webkit-scrollbar-thumb': {\r\n        backgroundColor: theme.palette.secondary.main,\r\n        width: 6,\r\n        border: \"4px solid rgba(0, 0, 0, 0)\",\r\n        backgroundClip: \"padding-box\",\r\n        borderRadius: 10\r\n      }\r\n    },\r\n    page: {\r\n      marginLeft: permanentSidebar ? 250 : 0,\r\n      display: \"flex\",\r\n      height: \"100%\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\"\r\n    },\r\n    background:{\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n      width: \"100%\",\r\n      height: \"100%\"\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const onFormComplete = (token) => {\r\n    window.localStorage.setItem(\"authToken\", token)\r\n    history.push(\"/\")\r\n  }\r\n\r\n  const onResize = () => {\r\n    if (window.innerWidth <= 1000){\r\n      setPermanentSidebar(false)\r\n    } else if (window.innerWidth > 1000) {\r\n      setPermanentSidebar(true)\r\n    }\r\n  }\r\n\r\n  return(\r\n    <Paper square className={classes.background}>\r\n      <Sidebar onResize={onResize}/>\r\n      <div className={classes.page}>\r\n        <SignupForm onSignup={onFormComplete}/>\r\n      </div>\r\n    </Paper>   \r\n  )\r\n}\r\n\r\nexport default Login;","import React, { useState, useEffect } from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport cx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport Box from '@material-ui/core/Box';\r\nimport Button from \"./button\"\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Paper from \"@material-ui/core/paper\"\r\nimport Typography from \"@material-ui/core/Typography\"\r\nimport { useOverShadowStyles } from '@mui-treasury/styles/shadow/over';\r\nimport { useBouncyShadowStyles } from '@mui-treasury/styles/shadow/bouncy';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ProfilePicture from \"./profilePicture\"\r\nimport AvatarGroup from '@material-ui/lab/AvatarGroup';\r\nimport { Lock, Public, AddRounded, ImageOutlined } from \"@material-ui/icons\"\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport axios from \"axios\"\r\n\r\nconst ProjectCard = (props) => {\r\n  const [thumbnail, setThumbnail] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    const arrayBufferToBase64 = (buffer) => {\r\n      var binary = '';\r\n      var bytes = [].slice.call(new Uint8Array(buffer));\r\n      bytes.forEach((b) => binary += String.fromCharCode(b));\r\n      return window.btoa(binary);\r\n    };\r\n\r\n    if (props.project_id !== -1) {\r\n      axios.get(\"/api/thumbnails/\" + props.project_id).then((data) => {\r\n        const base64Flag = 'data:image/png;base64,'\r\n        const imageStr = arrayBufferToBase64(data.data.data.data)\r\n        setThumbnail(((base64Flag + imageStr).toString()))\r\n      })\r\n      .catch((error) => {\r\n        if (error.response.data === \"No thumbnail\"){\r\n          setThumbnail(null)\r\n        }\r\n      })\r\n    }\r\n  }, [])\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: theme.palette.type === \"dark\" ? theme.palette.secondary.light : null,\r\n      marginLeft: 50,\r\n      marginRight: \"auto\",\r\n      marginBottom: 50,\r\n      height: 350,\r\n      width: 350,\r\n      borderRadius: theme.spacing(4),\r\n      overflow: 'visible',\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n      cursor: 'pointer',\r\n    },\r\n    mediaContainer: {\r\n      width: '88%',\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      height: 200,\r\n      marginTop: theme.spacing(-3),\r\n      borderRadius: theme.spacing(4),\r\n      boxShadow: theme.palette.type === \"dark\" ? 0 : '0px 6px 15px rgba(34, 35, 58, 0.2)',\r\n    },  \r\n    media: {\r\n      width: \"100%\",\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      height: 200,\r\n      borderRadius: theme.spacing(4),\r\n      [theme.breakpoints.up('md')]: {\r\n        width: '100%',\r\n      },\r\n      '&:after': {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100%',\r\n        height: '100%',\r\n        borderRadius: theme.spacing(2),\r\n        opacity: 0.5,\r\n      },\r\n    },\r\n    textBody: {\r\n      color: theme.palette.primary.main,\r\n      fontSize: 16\r\n    },\r\n    avatarGroup: {\r\n      '& .MuiAvatar-root': {\r\n        width: 35,\r\n        height: 35,\r\n      }\r\n    },\r\n    placeholder: {\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      background: theme.palette.secondary.main,\r\n      width: \"100%\",\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      marginTop: \"auto\",\r\n      marginBotton: \"auto\",\r\n      height: 200,\r\n      paddingBottom: '60%',\r\n      borderRadius: theme.spacing(4),\r\n      [theme.breakpoints.up('md')]: {\r\n        width: '100%',\r\n      },\r\n      '&:after': {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100%',\r\n        height: '100%',\r\n        borderRadius: theme.spacing(2),\r\n        opacity: 0.5,\r\n      },\r\n    },\r\n    addIcon: {\r\n      fontSize: 120,\r\n      color: theme.palette.secondary.dark\r\n    },\r\n    createText: {\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      marginTop: 50,\r\n      fontSize: 25,\r\n      fontWeight: \"bold\",\r\n      color: theme.palette.secondary.dark\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n  const shadowStyles = useOverShadowStyles();\r\n  const darkModeShadowStyles = useBouncyShadowStyles();\r\n  const styles = useStyles();\r\n\r\n  const renderIcon = () => {\r\n    if (props.isPublic === true) {\r\n      return <Public color=\"primary\" fontSize=\"large\"/>\r\n    } else {\r\n      return <Lock color=\"primary\" fontSize=\"large\"/>\r\n    }\r\n  }\r\n\r\n  const renderAvatars = () => {\r\n    const avatars = props.memberList.map((member, i) => {\r\n      if (member.user_id !== \"-1\") {\r\n        return (<Avatar key={i}>\r\n          <ProfilePicture user_id={member.user_id} width={35} height={35} />\r\n        </Avatar>\r\n        )\r\n      }\r\n    })\r\n\r\n    return avatars\r\n  }\r\n\r\n  const renderMedia = () => {\r\n    if (thumbnail === null) {\r\n      return (\r\n        <Paper\r\n          className={classes.placeholder}\r\n        >\r\n          <ImageOutlined style={{ fontSize: 70 }}/>\r\n        </Paper>\r\n      )\r\n    } else if (props.project_id === -1) {\r\n      return (\r\n        <Paper\r\n          className={classes.placeholder}\r\n        >\r\n          <AddRounded \r\n            className={classes.addIcon}\r\n          />\r\n        </Paper>\r\n      )\r\n    } else {\r\n      return (\r\n        <CardMedia\r\n          component=\"img\"\r\n          image={thumbnail}\r\n          className={classes.thumbnail}/>\r\n      )\r\n    }\r\n  }\r\n\r\n  const handleAcceptInvite = () => {\r\n    let formData = new FormData()\r\n    formData.append(\"project_id\", props.project_id)\r\n    formData.append(\"role_id\", props.role_id)\r\n\r\n    axios.post(\"/api/roles/invite/accept\", formData).then((results) => {\r\n      props.rerender()\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  const handleDeclineInvite = () => {\r\n    let formData = new FormData()\r\n    formData.append(\"project_id\", props.project_id)\r\n    formData.append(\"role_id\", props.role_id)\r\n\r\n    axios.post(\"/api/roles/invite/decline\", formData).then((results) => {\r\n      props.rerender()\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Card className={cx(classes.root, props.selectedTheme.name === \"darkModeTheme\" ? darkModeShadowStyles.root : shadowStyles.root)}\r\n        onClick={props.type === \"normal\" ? props.onClick : null}\r\n      >\r\n          <Card className={classes.mediaContainer}>\r\n            {renderMedia()}\r\n          </Card>\r\n          {props.project_id !== -1 ?<div style={{\r\n            textAlign: \"left\",\r\n            marginTop: 20,\r\n            width: \"85%\",\r\n          }}>\r\n            <Typography noWrap variant=\"h5\">\r\n              <Box fontFamily=\"Arial\" fontWeight=\"fontWeightBold\">\r\n                {props.project_name}\r\n              </Box>\r\n            </Typography>\r\n            <div style={{\r\n              marginTop: 5\r\n            }}>\r\n              <Typography\r\n                className={classes.textBody}\r\n                noWrap variant=\"body2\">\r\n                  {props.type === \"invite\" ? \"Invite\" : `${props.members} ${props.members > 1 ? \"members\" : \"member\"}`}\r\n              </Typography>\r\n            </div>\r\n          </div> : \r\n          <div\r\n            className={classes.createText}\r\n          >\r\n            Create project\r\n          </div>}\r\n          {props.project_id !== -1 ? <Grid container style={{\r\n            marginTop: 15,\r\n            marginLeft: 60\r\n          }}>\r\n            <Grid item xs={9}>\r\n              {props.type === \"invite\" ? \r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\",\r\n                  alignItems: \"center\"\r\n                }}\r\n              >\r\n                <div style={{ marginRight: 10 }}>\r\n                  <Button\r\n                    type=\"icon\"\r\n                    icon=\"Done\"\r\n                    color=\"primary\"\r\n                    onClick={handleAcceptInvite}\r\n                  />\r\n                </div>\r\n                <Button\r\n                  type=\"icon\"\r\n                  icon=\"Close\"\r\n                  color=\"primary\"\r\n                  onClick={handleDeclineInvite}\r\n                />\r\n              </div>\r\n              :\r\n              <AvatarGroup max={4} width=\"35\" className={classes.avatarGroup}>\r\n                {renderAvatars()}\r\n              </AvatarGroup>\r\n              }\r\n            </Grid>\r\n            <Grid item xs={2}>\r\n              {renderIcon()}\r\n            </Grid>\r\n          </Grid> : null}\r\n      </Card>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { selectedTheme: state.selectedTheme }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ProjectCard)","import React, { useState, useEffect } from \"react\";\r\nimport Sidebar from \"../complex/sidebar\"\r\nimport Paper from \"@material-ui/core/paper\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ProjectCard from \"../basics/projectCard\"\r\nimport Grid from \"@material-ui/core/grid\"\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Button from \"../basics/button\"\r\nimport Skeleton from \"@material-ui/lab/Skeleton\"\r\nimport socketIOClient from \"socket.io-client\";\r\nimport axios from \"axios\"\r\n\r\nvar jwt = require(\"jsonwebtoken\")\r\n\r\nconst Projects = () => {\r\n  const [permanentSidebar, setPermanentSidebar] = useState(window.innerWidth > 1000 ? true : false)\r\n  const [projects, setProjects] = useState([])\r\n  const [invites, setInvites] = useState([])\r\n  const [notificationOpen, setNotificationOpen] = useState(false)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {renderProjectCards()}, [])\r\n  useEffect(() => {\r\n    const socket = socketIOClient(\"http://localhost:3001\");\r\n    socket.on(\"PROJECT_INVITE\", (data) => {\r\n      if (window.localStorage.getItem(\"authToken\")) {\r\n        const encrypted = window.localStorage.getItem(\"authToken\")\r\n        const token = jwt.decode(JSON.parse(encrypted))\r\n\r\n        if (parseInt(token.user_id) === data) {\r\n          setNotificationOpen(true)\r\n          renderProjectCards()\r\n        }\r\n      }\r\n    });\r\n  }, [])\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    '@global': {\r\n      '*::-webkit-scrollbar': {\r\n        width: 16,\r\n        backgroundColor: theme.palette.background.default,\r\n      },\r\n      '*::-webkit-scrollbar-thumb': {\r\n        backgroundColor: theme.palette.secondary.main,\r\n        width: 6,\r\n        border: \"4px solid rgba(0, 0, 0, 0)\",\r\n        backgroundClip: \"padding-box\",\r\n        borderRadius: 10\r\n      }\r\n    },\r\n    page: {\r\n      marginLeft: permanentSidebar ? 250 : 0,\r\n      marginTop: 48,\r\n    },\r\n    background:{\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n      width: \"100%\",\r\n      height: \"calc(100% + 10px)\",\r\n      overflow: \"auto\",\r\n    },\r\n    notification: {\r\n      backgroundColor: theme.palette.secondary.light,\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      alignItems: \"center\",\r\n      padding: '0px 5px 0px 10px',\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const handleNewProject = () => {\r\n    setLoading(true)\r\n    const encrypted = window.localStorage.getItem(\"authToken\")\r\n    const token = jwt.decode(JSON.parse(encrypted))\r\n\r\n    axios.post(\"/api/projects/create/\" + token.user_id).then(() => {\r\n      setProjects([])\r\n      renderProjectCards()\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  const onResize = () => {\r\n    if (window.innerWidth <= 1000){\r\n      setPermanentSidebar(false)\r\n    } else if (window.innerWidth > 1000) {\r\n      setPermanentSidebar(true)\r\n    }\r\n  }\r\n\r\n  const renderProjectCards = () => {\r\n    setInvites([])\r\n    setProjects([])\r\n\r\n    const encrypted = window.localStorage.getItem(\"authToken\")\r\n    const token = jwt.decode(JSON.parse(encrypted))\r\n    \r\n    axios.get(\"/api/roles/user/\" + token.user_id).then((roles) => {  \r\n      let invitedArray = []\r\n\r\n      if (roles.data.length === 0) {\r\n        setLoading(false)\r\n      } else {\r\n        roles.data.forEach((role) => {\r\n          if (role.role_name === \"INVITED\") {\r\n            axios.get(\"/api/projects/\" + role.project_id).then((project) => {\r\n              setInvites([...invitedArray, {\r\n                project_id: project.data[0].project_id,\r\n                project_name: project.data[0].project_name,\r\n                isPublic: project.data[0].is_public,\r\n                role_id: role.role_id\r\n              }])\r\n              setLoading(false)\r\n            })\r\n            .catch((error) => {\r\n              console.log(error)\r\n            })\r\n          }\r\n        })\r\n  \r\n        roles = roles.data.filter((role) => role.role_name !== \"INVITED\")\r\n  \r\n        let projectArray = []\r\n  \r\n        roles.forEach((role) => {\r\n          if (role.user_id !== \"-1\") {\r\n            axios.get(\"/api/projects/\" + role.project_id).then((project) => {\r\n  \r\n            axios.get(\"/api/roles/project/\" + project.data[0].project_id).then((users) => {\r\n              setLoading(false)\r\n  \r\n              const realUsers = users.data.filter((user) => user.user_id !== \"-1\" && user.role_name !== \"INVITED\")\r\n              \r\n              projectArray = [...projectArray, {\r\n                project_id: project.data[0].project_id,\r\n                project_name: project.data[0].project_name,\r\n                isPublic: project.data[0].is_public,\r\n                members: realUsers.length,\r\n                memberList: realUsers\r\n              }]\r\n  \r\n              setProjects(projectArray)\r\n            })\r\n  \r\n          })\r\n          }\r\n        })\r\n      }\r\n\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Paper\r\n      square\r\n      elevation={0}\r\n      className={classes.background}\r\n    >\r\n      <Sidebar onResize={onResize}/>\r\n      <div className={classes.page}>\r\n        <Grid \r\n          container\r\n          style={{\r\n            marginLeft: 30,\r\n            marginTop: 20,\r\n            width: \"calc(100% - 50px)\",\r\n          }}\r\n        >\r\n          <Grid\r\n            item\r\n          >\r\n            <ProjectCard \r\n              project_id={-1}\r\n              type=\"normal\"\r\n              onClick={handleNewProject}\r\n            />\r\n          </Grid>\r\n          {loading ? \r\n            [0,0,0].map((num, i) => \r\n            <div\r\n              key={\"Skeleton\" + i}\r\n              style={{\r\n                marginLeft: 50\r\n              }}\r\n            >\r\n              <Skeleton\r\n                variant=\"rect\"\r\n                width={308}\r\n                height={200}\r\n                animation=\"wave\"\r\n                style={{ marginBottom: 5 }}\r\n              />\r\n              <Skeleton\r\n                variant=\"text\"\r\n                width={180}\r\n              />\r\n              <Skeleton\r\n                variant=\"text\"\r\n                width={180}\r\n              />\r\n              <Skeleton\r\n                variant=\"circle\"\r\n                width={40}\r\n                height={40}\r\n              />\r\n            </div>)\r\n            :\r\n            <React.Fragment>\r\n              {invites.map((project, i) => \r\n                <ProjectCard\r\n                  type=\"invite\"\r\n                  key={i} \r\n                  role_id={project.role_id}\r\n                  project_id={project.project_id} \r\n                  project_name={project.project_name} \r\n                  members={project.members}\r\n                  memberList={project.memberList}\r\n                  rerender={renderProjectCards}\r\n                  isPublic={project.isPublic}\r\n                  onClick={() => history.push(project.project_name + \"/\" + project.project_id)}\r\n                />\r\n              )}\r\n              {projects.map((project, i) => \r\n                <Grid item key={i} >\r\n                  <ProjectCard\r\n                    type=\"normal\"\r\n                    key={i} \r\n                    project_id={project.project_id} \r\n                    project_name={project.project_name} \r\n                    members={project.members}\r\n                    memberList={project.memberList}\r\n                    isPublic={project.isPublic}\r\n                    onClick={() => history.push(project.project_name + \"/\" + project.project_id)}\r\n                  />\r\n                </Grid>\r\n              )}\r\n            </React.Fragment>\r\n          }\r\n        </Grid>\r\n      </div>\r\n      <Snackbar\r\n        className={classes.snackbar}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'center',\r\n        }}\r\n        open={notificationOpen}\r\n        autoHideDuration={3000}\r\n        onClose={() => setNotificationOpen(false)}\r\n      >\r\n        <Paper\r\n          className={classes.notification}\r\n        >\r\n          <div\r\n            style={{\r\n              fontSize: 15,\r\n              marginRight: 15\r\n            }}\r\n          >\r\n            New project invite!\r\n          </div>\r\n          <Button\r\n            type=\"icon\"\r\n            icon=\"Close\"\r\n            onClick={() => setNotificationOpen(false)}\r\n          />\r\n        </Paper>\r\n      </Snackbar>\r\n    </Paper> \r\n  )\r\n}\r\n\r\nexport default Projects","import React,{ useState } from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { selectTheme } from \"../../actions/\"\r\nimport Radio from \"@material-ui/core/Radio\"\r\nimport Paper from \"@material-ui/core/paper\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport axios from \"axios\"\r\n\r\nvar jwt = require(\"jsonwebtoken\")\r\n\r\nconst ThemeChooser = (props) => {\r\n\r\n  const themes = [\r\n    {\r\n      url: \"/static/images/red-grey-icon.png\",\r\n      name: \"redGreyTheme\"\r\n    },\r\n    {\r\n      url: \"/static/images/dark-mode-icon.png\",\r\n      name: \"darkModeTheme\"\r\n    }\r\n  ]\r\n\r\n  const getRadioSelected = () => {\r\n    return props.selectedTheme.id.toString()\r\n  }\r\n\r\n  const handleChange = (event) => {\r\n    let theme = {\r\n      name: event.target.name,\r\n      id: event.target.id\r\n    }\r\n\r\n    props.selectTheme(theme)\r\n\r\n    if (window.localStorage.getItem(\"authToken\") !== \"undefined\" && window.localStorage.getItem(\"authToken\")){\r\n      const encrypted = window.localStorage.getItem(\"authToken\")\r\n      const token = jwt.decode(JSON.parse(encrypted))\r\n\r\n      axios.post(\"/api/user_settings/\" + token.user_id, { theme: theme.name }).then((results, error) => {\r\n        if (error) {\r\n          console.log(error)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const renderRadios = () => {\r\n    const radios = themes.map((theme, i) => {\r\n      return (\r\n        <div key={i.toString()} style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          width: 100,\r\n          margin: 10,\r\n          marginTop: 50,\r\n        }}>\r\n          <Paper \r\n            elevation={5} \r\n            square style={{\r\n              width: 100,\r\n              height: 68,\r\n          }}>\r\n            <img \r\n              src={theme.url}\r\n              id={i.toString()}\r\n              name={theme.name}\r\n              onClick={handleChange}\r\n            />\r\n          </Paper>\r\n          <Radio \r\n            checked={getRadioSelected() === i.toString()}\r\n            id={i.toString()}\r\n            onChange={handleChange}\r\n            name={theme.name}\r\n          />\r\n        </div>\r\n      )\r\n    })\r\n    return radios\r\n  }\r\n\r\n  return (\r\n\r\n    <div style={{\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      alignItems: \"center\",\r\n    }}>\r\n      <div style={{\r\n        fontSize: 18,\r\n        marginLeft: 20\r\n      }}>\r\n        Site theme\r\n      </div>\r\n      <div style={{\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        width: 240,\r\n        marginLeft: \"calc(100% - 500px)\"\r\n      }}>\r\n        {renderRadios()}\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { selectedTheme: state.selectedTheme }\r\n}\r\n\r\nexport default connect(mapStateToProps, { selectTheme })(ThemeChooser)","import React, { useState, useEffect } from \"react\"\r\nimport { makeStyles } from \"@material-ui/styles\"\r\nimport Card from \"@material-ui/core/card\"\r\nimport TextField from \"@material-ui/core/textField\"\r\nimport ProfilePicture from \"./profilePicture\"\r\nimport axios from \"axios\"\r\nimport Button from \"./button\"\r\nimport MaterialButton from \"@material-ui/core/button\"\r\n\r\nconst UserDetails = (props) => {\r\n  const [user, setUser] = useState(null)\r\n  const [mode, setMode] = useState(\"view\")\r\n  const [usernameError, setUsernameError] = useState(false)\r\n  const [emailError, setEmailError] = useState(false)\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: 450,\r\n      height: 170,\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      alignItems: \"center\",\r\n      paddingLeft: 15,\r\n      backgroundColor: theme.palette.type === \"dark\" ? theme.palette.secondary.light : theme.palette.background.default,\r\n      boxShadow: theme.palette.type === \"dark\" ? 0 : '0px 6px 15px rgba(34, 35, 58, 0.2)',\r\n    },\r\n    container: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"center\",\r\n      marginLeft: 20\r\n    },\r\n    header: {\r\n      textTransform: \"uppercase\",\r\n      fontSize: 15,\r\n      fontWeight: \"bold\",\r\n      color: theme.palette.secondary.dark\r\n    },\r\n    usernameText: {\r\n      marginBottom: 10,\r\n      fontSize: 15,\r\n      maxWidth: 270,\r\n      overflow: \"hidden\",\r\n      textOverflow: \"ellipsis\"\r\n    },\r\n    emailText: {\r\n      marginBottom: 10,\r\n      fontSize: 15,\r\n      width: 270,\r\n      overflow: \"hidden\",\r\n      textOverflow: \"ellipsis\"\r\n    },\r\n    userNumbers: {\r\n      fontSize: 15,\r\n      color: theme.palette.primary.main,\r\n      marginLeft: 5,\r\n    },\r\n    editButton: {\r\n      marginLeft: mode === \"edit\" ? 50 : 20\r\n    },\r\n    input: {\r\n      marginBottom: 5\r\n    }\r\n  }));\r\n  const classes = useStyles()\r\n\r\n  const getUser = () => {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(\"/api/users/\" + props.user.user_id).then((user) => {\r\n        setUser(user.data[0])\r\n        resolve()\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n        reject()\r\n      })\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/api/users/\" + props.user.user_id).then((user) => {\r\n      setUser(user.data[0])\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }, [])\r\n\r\n  const handleUsernameChange = (event) => {\r\n    setUser({...user, username: event.target.value})\r\n  }\r\n\r\n  const handleEmailChange = (event) => {\r\n    setUser({...user, email: event.target.value})\r\n  }\r\n\r\n  const handleSubmit = async(event) => {\r\n    event.preventDefault()\r\n\r\n    let formData = new FormData()\r\n    formData.append(\"username\", user.username)\r\n    formData.append(\"email\", user.email)\r\n\r\n    axios.post(\"/api/users/\" + props.user.user_id, formData).then(async() => {\r\n      await getUser().then(() => {\r\n        setMode(\"view\")\r\n      })\r\n    })\r\n    .catch((error) => {\r\n      console.log(error.response)\r\n      if (error.response.data.details[0].path === \"username\") {\r\n        setUsernameError(error.response.data.details[0].message)\r\n      } else {\r\n        setEmailError(error.response.data.details[0].message)\r\n      }\r\n    })\r\n  }\r\n\r\n  const renderUserDetails = () => {\r\n    if (mode === \"view\") {\r\n      return (\r\n        <div \r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\"\r\n          }}\r\n        >\r\n          <div\r\n            className={classes.container}\r\n          >\r\n            <div\r\n              className={classes.header}\r\n            >\r\n              Username\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n              }}\r\n            >\r\n              <div\r\n                className={classes.usernameText}\r\n              >\r\n                {user.username.slice(0, user.username.length - 5)}\r\n              </div>\r\n              <div\r\n                className={classes.userNumbers}\r\n              >\r\n                {user.username.slice(user.username.length - 5, user.username.length)}\r\n              </div>\r\n            </div>\r\n            <div\r\n              className={classes.header}\r\n            >\r\n              Email\r\n            </div>\r\n            <div\r\n              className={classes.emailText}\r\n            >\r\n              {user.email}\r\n            </div>\r\n          </div>\r\n          <div\r\n            className={classes.editButton}\r\n          >\r\n            <Button\r\n              type=\"icon\"\r\n              icon=\"Edit\"\r\n              color=\"primary\"\r\n              onClick={() => {\r\n                setMode(\"edit\")\r\n                setUser({...user, username: user.username.slice(0, user.username.length - 5)})\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      )\r\n    } else {\r\n      return (\r\n        <form \r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\"\r\n          }}\r\n        >\r\n          <div\r\n            className={classes.container}\r\n          >\r\n            <TextField \r\n              className={classes.input}\r\n              onChange={handleUsernameChange}\r\n              label=\"Username\"\r\n              variant=\"filled\"\r\n              color=\"primary\"\r\n              value={user.username}\r\n              helperText={usernameError === false ? null : usernameError}\r\n            />\r\n            <TextField \r\n              onChange={handleEmailChange}\r\n              label=\"Email\"\r\n              variant=\"filled\"\r\n              color=\"primary\"\r\n              value={user.email}\r\n              helperText={emailError === false ? null : emailError}\r\n            />\r\n          </div>\r\n          <div\r\n            className={classes.editButton}\r\n          >\r\n            <MaterialButton\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={handleSubmit}\r\n            >\r\n              Save\r\n            </MaterialButton>\r\n          </div>\r\n        </form>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n\r\n    <div>\r\n      {user !== null ? <Card\r\n        className={classes.root}\r\n      >\r\n        <div style={{ marginRight: 5 }}>\r\n          <ProfilePicture\r\n            user_id={parseInt(user.user_id)}\r\n            shape=\"circle\"\r\n            width={75}\r\n            height={75}\r\n            mode={mode}\r\n            credential={props.user.user_id}\r\n          />\r\n        </div>\r\n        {renderUserDetails()}\r\n      </Card> : null}\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default UserDetails","import React, { useState } from \"react\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ThemeChooser from \"../basics/themeChooser\"\r\nimport UserDetails from \"../basics/userDetails\"\r\nimport Divider from \"@material-ui/core/divider\"\r\n\r\nconst SiteSettings = () => {\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      marginTop: 50,\r\n      marginLeft: 50,\r\n    },\r\n    titleText: {\r\n      color: theme.palette.primary.main,\r\n      fontSize: 25,\r\n      marginBottom: 20,\r\n      marginTop: 20\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  return (\r\n\r\n    <div className={classes.root}>\r\n      <div className={classes.titleText}>\r\n        Site settings\r\n      </div>\r\n      <Divider variant=\"middle\" />\r\n      <ThemeChooser />\r\n      <Divider variant=\"middle\" />\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default SiteSettings","import React, { useState } from \"react\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ThemeChooser from \"../basics/themeChooser\"\r\nimport UserDetails from \"../basics/userDetails\"\r\nimport Divider from \"@material-ui/core/divider\"\r\n\r\nconst UserSettings = (props) => {\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      marginTop: 50,\r\n      marginLeft: 50,\r\n    },\r\n    titleText: {\r\n      color: theme.palette.primary.main,\r\n      fontSize: 25,\r\n      marginBottom: 20,\r\n      marginTop: 20\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  return (\r\n\r\n    <div className={classes.root}>\r\n      <div className={classes.titleText}>\r\n        User settings\r\n      </div>\r\n      <UserDetails user={props.user}/>\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default UserSettings","import React, { useState, useEffect } from \"react\";\r\nimport Sidebar from \"../complex/sidebar\"\r\nimport Paper from \"@material-ui/core/paper\"\r\nimport SiteSettings from \"../complex/siteSettings\"\r\nimport UserSettings from \"../complex/userSettings\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Button from \"../basics/button\"\r\nimport socketIOClient from \"socket.io-client\";\r\n\r\nvar jwt = require(\"jsonwebtoken\")\r\n\r\nconst Settings = () => {\r\n  const [permanentSidebar, setPermanentSidebar] = useState(window.innerWidth > 1000 ? true : false)\r\n  const [user, setUser] = useState()\r\n  const [notificationOpen, setNotificationOpen] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const socket = socketIOClient(\"http://localhost:3001\");\r\n    socket.on(\"PROJECT_INVITE\", (data) => {\r\n      if (window.localStorage.getItem(\"authToken\")) {\r\n        const encrypted = window.localStorage.getItem(\"authToken\")\r\n        const token = jwt.decode(JSON.parse(encrypted))\r\n\r\n        if (parseInt(token.user_id) === data) {\r\n          setNotificationOpen(true)\r\n        }\r\n      }\r\n    });\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (!window.localStorage.getItem(\"authToken\")) {\r\n      setUser(null)\r\n    } else {\r\n      const encrypted = window.localStorage.getItem(\"authToken\")\r\n      const token = jwt.decode(JSON.parse(encrypted))\r\n\r\n      setUser({\r\n        username: token.name,\r\n        user_id: token.user_id\r\n      })\r\n    }\r\n  }, [])\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    '@global': {\r\n      '*::-webkit-scrollbar': {\r\n        width: 16,\r\n        backgroundColor: theme.palette.background.default,\r\n      },\r\n      '*::-webkit-scrollbar-thumb': {\r\n        backgroundColor: theme.palette.secondary.main,\r\n        width: 6,\r\n        border: \"4px solid rgba(0, 0, 0, 0)\",\r\n        backgroundClip: \"padding-box\",\r\n        borderRadius: 10\r\n      }\r\n    },\r\n    page: {\r\n      marginLeft: permanentSidebar ? 250 : 0,\r\n    },\r\n    background:{\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n      width: \"100%\",\r\n      height: \"calc(100% + 10px)\"\r\n    },\r\n    notification: {\r\n      backgroundColor: theme.palette.secondary.light,\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      alignItems: \"center\",\r\n      padding: '0px 5px 0px 10px',\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n\r\n  const onResize = () => {\r\n    if (window.innerWidth <= 1000){\r\n      setPermanentSidebar(false)\r\n    } else if (window.innerWidth > 1000) {\r\n      setPermanentSidebar(true)\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <Paper square className={classes.background}>\r\n      <Sidebar onResize={onResize}/>\r\n      <div className={classes.page}>\r\n        <SiteSettings />\r\n        {user !== undefined && user !== null ? <UserSettings user={user}/> : null}\r\n      </div>\r\n      <Snackbar\r\n        className={classes.snackbar}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'center',\r\n        }}\r\n        open={notificationOpen}\r\n        autoHideDuration={3000}\r\n        onClose={() => setNotificationOpen(false)}\r\n      >\r\n        <Paper\r\n          className={classes.notification}\r\n        >\r\n          <div\r\n            style={{\r\n              fontSize: 15,\r\n              marginRight: 15\r\n            }}\r\n          >\r\n            New project invite!\r\n          </div>\r\n          <Button\r\n            type=\"icon\"\r\n            icon=\"Close\"\r\n            onClick={() => setNotificationOpen(false)}\r\n          />\r\n        </Paper>\r\n      </Snackbar>\r\n    </Paper> \r\n  )\r\n}\r\n\r\nexport default Settings","import React, { useState } from \"react\"\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Card from \"@material-ui/core/card\"\r\nimport Paper from \"@material-ui/core/paper\"\r\nimport InputBase from \"@material-ui/core/InputBase\"\r\nimport Button from \"@material-ui/core/button\"\r\n\r\nconst SupportForm = (props) => {\r\n  const [name, setName] = useState(\"\")\r\n  const [email, setEmail] = useState(\"\")\r\n  const [message, setMessage] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: 400,\r\n      height: 450,\r\n      backgroundColor: theme.palette.secondary.light,\r\n      padding: 15\r\n    },\r\n    title: {\r\n      fontSize: 20,\r\n      marginBottom: 20,\r\n      marginLeft: 10\r\n    },\r\n    input: {\r\n      backgroundColor: theme.palette.background.default,\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      alignItems: \"center\",\r\n      paddingLeft: 10,\r\n      paddingRight: 10,\r\n      height: 50,\r\n      marginBottom: 15\r\n    },\r\n    message: {\r\n      backgroundColor: theme.palette.background.default,\r\n      paddingLeft: 10,\r\n      paddingRight: 5,\r\n      height: 200,\r\n      width: \"100%\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      justifyContent: \"flex-start\",\r\n    },\r\n    count: {\r\n      marginLeft: message.length < 10 ? 350 :\r\n      message.length < 100 ? 341 : \r\n      332\r\n    }\r\n  }))\r\n  const classes = useStyles()\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    setLoading(true)\r\n\r\n    window.emailjs.send(\r\n      \"gmail\",\r\n      \"feedback\",\r\n      {\r\n        message_html: message,\r\n        from_name: name,\r\n        reply_to: email\r\n      }\r\n    ).then(() => {\r\n      setName(\"\")\r\n      setEmail(\"\")\r\n      setMessage(\"\")\r\n      setLoading(false)\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  return (\r\n\r\n    <Card\r\n      className={classes.root}\r\n      component=\"form\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div\r\n        className={classes.title}\r\n      >\r\n        Contact us\r\n      </div>\r\n      <Paper>\r\n        <InputBase\r\n          placeholder=\"Name\"\r\n          className={classes.input}\r\n          value={name}\r\n          onChange={(event) => setName(event.target.value)}\r\n        />\r\n      </Paper>\r\n      <Paper>\r\n        <InputBase\r\n          placeholder=\"Email\"\r\n          className={classes.input}\r\n          value={email}\r\n          onChange={(event) => setEmail(event.target.value)}\r\n        />\r\n      </Paper>\r\n      <Paper>\r\n        <InputBase\r\n          multiline\r\n          rowsMax={10}\r\n          value={message}\r\n          placeholder=\"Message\"\r\n          className={classes.message}\r\n          onChange={(event) => event.target.value.length <= 500 ? setMessage(event.target.value) : null}\r\n        />\r\n      </Paper>\r\n      <div\r\n        className={classes.count}\r\n      >\r\n        {message.length + \" / 500\"}\r\n      </div>\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          justifyContent: \"center\",\r\n          marginTop: 10\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            marginLeft: loading ? 40 : 0\r\n          }}\r\n        >\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n          >\r\n            Submit\r\n          </Button>\r\n          {loading ? \r\n          <CircularProgress \r\n            color=\"primary\"\r\n            size={30}\r\n            style={{\r\n              marginLeft: 10\r\n            }}\r\n          /> : null}\r\n        </div>\r\n      </div>\r\n    </Card>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default SupportForm","import React, { useState, useEffect } from \"react\";\r\nimport SupportForm from \"../complex/supportForm\"\r\nimport Sidebar from \"../complex/sidebar\"\r\nimport Paper from \"@material-ui/core/paper\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Button from \"../basics/button\"\r\nimport socketIOClient from \"socket.io-client\";\r\n\r\nvar jwt = require(\"jsonwebtoken\")\r\n\r\nconst Support = () => {\r\n  const [permanentSidebar, setPermanentSidebar] = useState(window.innerWidth > 1000 ? true : false)\r\n  const [notificationOpen, setNotificationOpen] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const socket = socketIOClient(\"http://localhost:3001\");\r\n    socket.on(\"PROJECT_INVITE\", (data) => {\r\n      if (window.localStorage.getItem(\"authToken\")) {\r\n        const encrypted = window.localStorage.getItem(\"authToken\")\r\n        const token = jwt.decode(JSON.parse(encrypted))\r\n\r\n        if (parseInt(token.user_id) === data) {\r\n          setNotificationOpen(true)\r\n        }\r\n      }\r\n    });\r\n  }, [])\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    '@global': {\r\n      '*::-webkit-scrollbar': {\r\n        width: 16,\r\n        backgroundColor: theme.palette.background.default,\r\n      },\r\n      '*::-webkit-scrollbar-thumb': {\r\n        backgroundColor: theme.palette.secondary.main,\r\n        width: 6,\r\n        border: \"4px solid rgba(0, 0, 0, 0)\",\r\n        backgroundClip: \"padding-box\",\r\n        borderRadius: 10\r\n      }\r\n    },\r\n    page: {\r\n      marginLeft: permanentSidebar ? 250 : 0,\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      paddingTop: 50,\r\n    },\r\n    background:{\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n      width: \"100%\",\r\n      height: \"calc(100% + 10px)\"\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const onResize = () => {\r\n    if (window.innerWidth <= 1000){\r\n      setPermanentSidebar(false)\r\n    } else if (window.innerWidth > 1000) {\r\n      setPermanentSidebar(true)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Paper square className={classes.background}>\r\n      <Sidebar onResize={onResize}/>\r\n      <div className={classes.page}>\r\n        <SupportForm />\r\n      </div>\r\n      <Snackbar\r\n        className={classes.snackbar}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'center',\r\n        }}\r\n        open={notificationOpen}\r\n        autoHideDuration={3000}\r\n        onClose={() => setNotificationOpen(false)}\r\n      >\r\n        <Paper\r\n          className={classes.notification}\r\n        >\r\n          <div\r\n            style={{\r\n              fontSize: 15,\r\n              marginRight: 15\r\n            }}\r\n          >\r\n            New project invite!\r\n          </div>\r\n          <Button\r\n            type=\"icon\"\r\n            icon=\"Close\"\r\n            onClick={() => setNotificationOpen(false)}\r\n          />\r\n        </Paper>\r\n      </Snackbar>\r\n    </Paper> \r\n  )\r\n}\r\n\r\nexport default Support","import React, { useState } from \"react\"\r\nimport Card from \"@material-ui/core/card\"\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport Button from \"@material-ui/core/Button\"\r\nimport axios from \"axios\"\r\n\r\nconst CreateRole = (props) => {\r\n  const [roleName, setRoleName] = useState(\"\")\r\n\r\n  const onChange = (event) => {\r\n    setRoleName(event.target.value)\r\n  }\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault()\r\n\r\n    let formData = new FormData()\r\n    formData.append(\"project_id\", parseInt(props.project_id))\r\n    formData.append(\"role_name\", roleName)\r\n\r\n    axios.post(\"/api/roles/new\", formData).then((results) => {\r\n      props.onAddRole(roleName)\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  return (\r\n\r\n    <Card\r\n      style={{\r\n        position: \"absolute\",\r\n        width: 300,\r\n        height: 200,\r\n        left: \"50%\",\r\n        top: \"50%\",\r\n        marginLeft: -150,\r\n        marginTop: -105\r\n      }}\r\n    >\r\n      <form onSubmit={onSubmit} style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        marginTop: 50,\r\n      }}>\r\n        <div style={{\r\n          marginBottom: 40\r\n        }}>\r\n          <TextField \r\n            label=\"Role name\"\r\n            variant=\"filled\"\r\n            color=\"primary\"\r\n            value={roleName}\r\n            onChange={onChange}\r\n          />\r\n        </div>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n        >\r\n          Create role\r\n        </Button>\r\n      </form>\r\n    </Card>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default CreateRole","import React, { useState, useEffect } from \"react\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from \"@material-ui/core/grid\"\r\nimport Card from \"@material-ui/core/card\"\r\nimport Paper from \"@material-ui/core/paper\"\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Divider from \"@material-ui/core/divider\"\r\nimport Modal from \"@material-ui/core/modal\"\r\nimport Button from \"../basics/button\"\r\nimport MuiButton from \"@material-ui/core/Button\"\r\nimport InputBase from \"@material-ui/core/InputBase\"\r\nimport CreateRole from \"../basics/createRole\"\r\nimport { Edit, Add } from \"@material-ui/icons\"\r\nimport socketIOClient from \"socket.io-client\";\r\nimport axios from \"axios\"\r\n\r\nvar jwt = require(\"jsonwebtoken\")\r\n\r\nconst RoleList = (props) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [addMemberOpen, setAddMemberOpen] = useState(false)\r\n  const [username, setUsername] = useState(\"\")\r\n  const [tag, setTag] = useState(\"\")\r\n  const [error, setError] = useState(\"\")\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    role: {\r\n      height: 50,\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      paddingLeft: 20,\r\n      cursor: 'pointer',\r\n      '&:hover': {\r\n        backgroundColor: theme.palette.secondary.light\r\n      }\r\n    },\r\n    actionRole: {\r\n      height: 50,\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      cursor: 'pointer',\r\n      '&:hover': {\r\n        backgroundColor: theme.palette.secondary.light\r\n      }\r\n    },\r\n    actionRoleSelected: {\r\n      height: 50,\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      cursor: 'pointer',\r\n      backgroundColor: theme.palette.secondary.light,\r\n    },\r\n    roleSelected: {\r\n      height: 50,\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      paddingLeft: 20,\r\n      cursor: 'pointer',\r\n      backgroundColor: theme.palette.secondary.light,\r\n    },\r\n    addMember: {\r\n      width: 300,\r\n      height: 150,\r\n      position: \"absolute\",\r\n      top: \"50%\",\r\n      left: \"50%\",\r\n      marginTop: \"-75px\",\r\n      marginLeft: \"-100px\",\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      '&:focus': {\r\n        outlineStyle: \"none\"\r\n      }\r\n    },\r\n    usernameField: {\r\n      width: 150,\r\n      height: 50,\r\n      backgroundColor: theme.palette.secondary.light,\r\n      marginRight: 20,\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      paddingLeft: 10,\r\n    },\r\n    tagField: {\r\n      width: 75,\r\n      height: 50,\r\n      backgroundColor: theme.palette.secondary.light,\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      paddingLeft: 10,\r\n    },\r\n    errorMessage: {\r\n      color: theme.palette.primary.main,\r\n      fontSize: 15\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const handleChange = (event) => {\r\n    props.onChange(event.target.id)\r\n  }\r\n\r\n  const onAddRole = (role_name) => {\r\n    setOpen(false);\r\n    props.onAddRole(role_name)\r\n  }\r\n\r\n  const renderRoles = () => {\r\n    return props.roles.map((role, i) => {\r\n      if (i !== props.roles.length - 1) {\r\n        return (\r\n          <div \r\n            key={i}\r\n          >\r\n            <Paper\r\n              elevation={0}\r\n              square\r\n              onClick={handleChange}\r\n              id={i}\r\n              className={props.selected === i ? classes.roleSelected : classes.role}\r\n            >\r\n              {role.api_role}\r\n            </Paper>\r\n            <Divider light variant=\"middle\"/>\r\n          </div>\r\n        )\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleChangeTag = (event) => {\r\n    if (event.target.value.length < 5) {\r\n      if (event.target.value.length === 0) {\r\n        setTag(event.target.value)\r\n      } else if (isNaN(event.target.value) === false) {\r\n        setTag(event.target.value)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    setLoading(true)\r\n    event.preventDefault()\r\n\r\n    if (username.length < 1) {\r\n      setError(\"Please enter a username\")\r\n      return\r\n    } else if (tag.length !== 4) {\r\n      setError(\"Please enter the user's 4 digit tag\")\r\n      return\r\n    } else {\r\n      setError(\"\")\r\n      axios.get(\"/api/users/credential/\" + username + \"#\" + tag).then((api_users) => {\r\n      \r\n        if (api_users.data.length > 0) {\r\n          api_users.data.forEach((user) => {\r\n            if (user.username === username + \"#\" + tag) {\r\n              let formData = new FormData()\r\n              formData.append(\"project_id\", props.project_id)\r\n              formData.append(\"user_id\", user.user_id)\r\n  \r\n              axios.post(\"/api/roles/invite\", formData).then(() => {\r\n                setLoading(false)\r\n                const socket = socketIOClient(\"http://localhost:3001\");\r\n                socket.emit(\"INVITE_SENT\", user.user_id)\r\n                socket.on(\"PROJECT_INVITE\", (data) => {\r\n                  if (window.localStorage.getItem(\"authToken\")) {\r\n                    const encrypted = window.localStorage.getItem(\"authToken\")\r\n                    const token = jwt.decode(JSON.parse(encrypted))\r\n            \r\n                    console.log(\"Someone invited\")\r\n            \r\n                    if (parseInt(token.user_id) === parseInt(data)) {\r\n                      props.setNotificationOpen(true)\r\n                    }\r\n                  }\r\n                });\r\n  \r\n                setUsername(\"\")\r\n                setTag(\"\")\r\n                setAddMemberOpen(false)\r\n                props.onAddRole()\r\n              })\r\n              .catch((error) => {\r\n                setLoading(false)\r\n                if (error.response.data.detail !== undefined) {\r\n                  setError(error.response.data.detail)\r\n                } else {\r\n                  console.log(error)\r\n                }\r\n              })\r\n            }\r\n          })\r\n        } else {\r\n          setError(\"User doesn't exist\")\r\n        }\r\n  \r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <Grid container style={{ height: \"100%\" }}>\r\n      <Grid item style={{ width: \"100%\", height: \"100%\" }}>\r\n        <Card\r\n          style={{ height: props.mode === \"admin\" ? \"calc(100% - 150px)\" : \"100%\" }}\r\n          square\r\n          elevation={0}\r\n          value={props.selected}\r\n        >\r\n          {renderRoles()}\r\n        </Card>\r\n        {props.mode === \"admin\" ? <Card\r\n          className={classes.actionRole}\r\n          elevation={0}\r\n          square\r\n          onClick={() => setAddMemberOpen(true)}\r\n        >\r\n          Add member\r\n          <Add style={{ marginLeft: 10 }} color=\"primary\"/>\r\n        </Card> : null}\r\n        {props.mode === \"admin\" ? <Card\r\n          className={props.selected === props.roles.length - 1 ? classes.actionRoleSelected : classes.actionRole}\r\n          elevation={0}\r\n          square\r\n          onClick={props.onChangeMode}\r\n        >\r\n          Change roles\r\n          <Edit style={{ marginLeft: 10 }} color=\"primary\"/>\r\n        </Card> : null}\r\n        <div style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          marginTop: 10\r\n        }}>\r\n          {props.mode === \"admin\" ? <Button type=\"normal\" variant=\"contained\" color=\"primary\" buttonText=\"New role\" onClick={handleOpen}/> : null}\r\n        </div>\r\n        <Modal\r\n          open={open}\r\n          onClose={handleClose}\r\n          disableScrollLock\r\n        >\r\n          <div>\r\n            <CreateRole project_id={props.project_id} onAddRole={onAddRole}/>\r\n          </div>\r\n        </Modal>\r\n        <Modal\r\n          disableScrollLock\r\n          open={addMemberOpen}\r\n          onClose={() => setAddMemberOpen(false)}\r\n        >\r\n          <Card\r\n            className={classes.addMember}\r\n            component=\"form\"\r\n            onSubmit={handleSubmit}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n              }}\r\n            >\r\n              <Paper\r\n                className={classes.usernameField}\r\n                square\r\n              >\r\n                <InputBase\r\n                  placeholder=\"Username\"\r\n                  className={classes.input}\r\n                  value={username}\r\n                  onChange={(event) => event.target.value.length < 25 ? setUsername(event.target.value) : null}\r\n                />\r\n              </Paper>\r\n              <Paper\r\n                className={classes.tagField}\r\n                square\r\n              >\r\n                <InputBase\r\n                  placeholder=\"0000\"\r\n                  className={classes.input}\r\n                  startAdornment=\"#\"\r\n                  value={tag}\r\n                  onChange={handleChangeTag}\r\n                />\r\n              </Paper>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                marginLeft: loading ? 40 : 0\r\n              }}\r\n            >\r\n              <MuiButton\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                style={{ marginTop: 10 }}\r\n              >\r\n                Add user\r\n              </MuiButton>\r\n              {loading ? \r\n                <CircularProgress \r\n                  color=\"primary\"\r\n                  size={20}\r\n                  style={{\r\n                    marginLeft: 10\r\n                  }}\r\n                /> : null}\r\n            </div>\r\n            <div\r\n              className={classes.errorMessage}\r\n            >\r\n              {error}\r\n            </div>\r\n          </Card>\r\n        </Modal>\r\n      </Grid>\r\n    </Grid>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default RoleList","import React, { useState, useEffect } from \"react\"\r\nimport Grid from \"@material-ui/core/grid\"\r\nimport Avatar from \"@material-ui/core/avatar\"\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MuiButton from \"@material-ui/core/button\"\r\nimport Modal from \"@material-ui/core/modal\"\r\nimport Card from \"@material-ui/core/card\"\r\nimport Button from \"./button\"\r\nimport ProfilePicture from \"./profilePicture\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {ArrowDropDown} from \"@material-ui/icons\"\r\nimport axios from \"axios\"\r\n\r\nvar jwt = require(\"jsonwebtoken\")\r\n\r\nconst RoleUser = (props) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [confirmOpen, setConfirmOpen] = useState(false)\r\n  const [userId, setUserId] = useState()\r\n\r\n  useEffect(() => {\r\n    const encrypted = window.localStorage.getItem(\"authToken\")\r\n    const token = jwt.decode(JSON.parse(encrypted))\r\n\r\n    setUserId(token.user_id)\r\n  }, [])\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    user: {\r\n      margin: \"10px 0px 10px 20px\",\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      alignItems: \"center\",\r\n    },\r\n    avatar: {\r\n      width: 50,\r\n      height: 50,\r\n    },\r\n    usernameContainer: {\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      marginLeft: 20,\r\n      height: 50,\r\n      width: 'calc(100% - 320px)'\r\n    },\r\n    username: {\r\n      fontSize: 20,\r\n      marginBottom: 5,\r\n    },\r\n    button: {\r\n      width: 200,\r\n      padding: \"5px 0px 5px 5px\",\r\n      overflow: \"hidden\",\r\n      whiteSpace: \"nowrap\",\r\n      display: \"flex\",\r\n      justifyContent: \"left\",\r\n    },\r\n    buttonText: {\r\n      width: 160,\r\n      overflow: \"hidden\",\r\n      textAlign: \"left\"\r\n    },\r\n    confirm: {\r\n      width: 200,\r\n      height: 150,\r\n      position: \"absolute\",\r\n      top: \"50%\",\r\n      left: \"50%\",\r\n      marginTop: \"-75px\",\r\n      marginLeft: \"-100px\",\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const handleChange = (event) => {\r\n    props.onChangeRole(props.user.role_id, event.currentTarget.textContent)\r\n    handleClose()\r\n  };\r\n\r\n  const handleDeleteUser = () => {\r\n\r\n    let formData = new FormData()\r\n    formData.append(\"project_id\", props.project_id)\r\n\r\n    axios.post(\"/api/roles/delete/\" + props.user.role_id, formData).then(() => {\r\n      props.rerender()\r\n      setConfirmOpen(false)\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n      setConfirmOpen(false)\r\n    })\r\n  }\r\n\r\n  const handleClickOpen = (event) => {\r\n    setOpen(true);\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const renderMenuItems = () => {\r\n    return props.roles.map((role, i) => {\r\n      if (role.api_role !== \"change_role\"){\r\n        return (<MenuItem key={i} onClick={handleChange}>\r\n          <div>\r\n            {role.api_role}\r\n          </div>\r\n        </MenuItem>)\r\n      } else {\r\n        return null\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n\r\n    <Grid\r\n      className={classes.user}\r\n      container\r\n    >\r\n      <Grid item>\r\n        <Avatar className={classes.avatar}>\r\n          <ProfilePicture user_id={props.user.user_id} width={50} height={50} />\r\n        </Avatar>\r\n      </Grid>\r\n      <Grid item className={classes.usernameContainer}>\r\n        <div className={classes.username}>\r\n          {props.user.username}\r\n        </div>\r\n      </Grid>\r\n      {props.onChangeMode === true ? <div>\r\n          <Grid item>\r\n            <MuiButton \r\n              className={classes.button}\r\n              color=\"primary\"\r\n              variant=\"outlined\"\r\n              onClick={handleClickOpen}\r\n              endIcon={<ArrowDropDown />}\r\n            >\r\n              <div className={classes.buttonText}>\r\n                {props.userRole}\r\n              </div>\r\n            </MuiButton>\r\n          </Grid>\r\n          <Menu\r\n            open={open}\r\n            disableScrollLock\r\n            anchorEl={anchorEl}\r\n            onClose={handleClose}\r\n          >\r\n            {renderMenuItems()}\r\n          </Menu>\r\n        </div> : null}\r\n      {props.onChangeMode === true && props.user.user_id !== userId ?\r\n        <Grid item className={classes.deleteButton}>\r\n          <Button\r\n            type=\"icon\"\r\n            icon=\"Delete\"\r\n            color=\"primary\"\r\n            onClick={() => setConfirmOpen(true)}\r\n          />\r\n        </Grid>\r\n      : null}\r\n      <Modal\r\n        open={confirmOpen}\r\n        disableScrollLock\r\n        onClose={() => setConfirmOpen(false)}\r\n      >\r\n        <div>\r\n          <Card\r\n            className={classes.confirm}\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\"\r\n            }}\r\n          >\r\n            <Grid\r\n              container\r\n              direction=\"column\"\r\n              justify=\"center\"\r\n              alignItems=\"center\"\r\n              spacing={4}\r\n            >\r\n              <Grid\r\n                item\r\n              >\r\n                <div\r\n                  style={{ fontSize: 15, fontWeight: \"bold\" }}\r\n                >\r\n                  This action is permanent\r\n                </div>\r\n              </Grid>\r\n              <Grid\r\n                item\r\n              >\r\n                <Button\r\n                  type=\"normal\"\r\n                  variant=\"contained\"\r\n                  buttonText=\"Remove user\"\r\n                  color=\"primary\"\r\n                  onClick={handleDeleteUser}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </Card>\r\n        </div>\r\n      </Modal>\r\n    </Grid>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default RoleUser","import React from \"react\"\r\nimport Card from \"@material-ui/core/card\"\r\nimport RoleUser from \"../basics/roleUser\"\r\n\r\nconst RoleDetail = (props) => {\r\n\r\n  const renderUsers = () => {\r\n    return props.role.api_role_users.map((user, i) => {\r\n      if (user.user_id === -1) {\r\n        return null\r\n      } else {\r\n        let userRole\r\n\r\n        props.roles.forEach((role) => {\r\n          if (role.api_role !== \"change_role\") {\r\n            const pos = role.api_role_users.map((e) => {return e.username}).indexOf(user.username)\r\n    \r\n            if (pos !== -1) {\r\n              userRole = role.api_role\r\n            }\r\n          }\r\n        })\r\n\r\n        return (\r\n          <RoleUser\r\n            rerender={props.rerender}\r\n            project_id={props.project_id}\r\n            roles={props.roles}\r\n            role={props.role}\r\n            user={user}\r\n            userRole={userRole}\r\n            key={i}\r\n            onChangeMode={props.onChangeMode}\r\n            onChangeRole={props.onChangeRole}\r\n          />\r\n        )\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Card\r\n      square\r\n      elevation={0}\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        width: \"100%\",\r\n      }}\r\n    >\r\n      {renderUsers()}\r\n    </Card>\r\n  )\r\n\r\n}\r\n\r\nexport default RoleDetail","import React, { useState } from \"react\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ButtonBase from \"@material-ui/core/ButtonBase\"\r\nimport Card from \"@material-ui/core/card\"\r\nimport { Add, Remove } from \"@material-ui/icons\"\r\n\r\nconst ValueSelect = (props) => {\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    leftButton: {\r\n      width: 30,\r\n      height: 30,\r\n      backgroundColor: theme.palette.primary.main,\r\n      borderTopLeftRadius: 5,\r\n      borderBottomLeftRadius: 5,\r\n    },\r\n    center: {\r\n      width: 30,\r\n      height: 28,\r\n      backgroundColor: theme.palette.background.default,\r\n      borderStyle: \"solid\",\r\n      borderWidth: \"1px 0px 1px 0px\",\r\n      borderColor: theme.palette.primary.main,\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\"\r\n    },\r\n    rightButton: {\r\n      width: 30,\r\n      height: 30,\r\n      backgroundColor: theme.palette.primary.main,\r\n      borderTopRightRadius: 5,\r\n      borderBottomRightRadius: 5,\r\n    },\r\n    icon: {\r\n      color: theme.palette.background.default\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const onIncrease = () => {\r\n    if (props.value < props.maxValue) {\r\n      props.onChange(props.value + 1)\r\n    }\r\n  }\r\n\r\n  const onDecrease = () => {\r\n    if (props.value > props.minValue){\r\n      props.onChange(props.value - 1)\r\n    }\r\n  }\r\n\r\n  return (\r\n\r\n    <form style={{\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\"\r\n    }}>\r\n      <ButtonBase\r\n        className={classes.leftButton}\r\n        onClick={onDecrease}\r\n        disabled={props.disabled}\r\n      >\r\n        <Remove className={classes.icon}/>\r\n      </ButtonBase>\r\n      <Card\r\n        square\r\n        elevation={0}\r\n        className={classes.center}\r\n      >\r\n        <div style={{ marginBottom: 1 }}>\r\n          {props.value}\r\n        </div>\r\n      </Card>\r\n      <ButtonBase\r\n        className={classes.rightButton}\r\n        onClick={onIncrease}\r\n        disabled={props.disabled}\r\n      >\r\n        <Add className={classes.icon}/>\r\n      </ButtonBase>\r\n    </form>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default ValueSelect","import React, { useState, useEffect } from \"react\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from \"../basics/button\"\r\nimport Grid from \"@material-ui/core/grid\"\r\nimport ValueSelect from \"../basics/valueSelect\"\r\n\r\nconst RoleSettings = (props) => {\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      marginTop: 10,\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const handleDelete = () => {\r\n    props.handleDelete(props.role.api_role)\r\n  }\r\n\r\n  const onAuthChange = (newValue) => {\r\n\r\n    if (props.role.api_role_users[0].authorisation_level === 9) {\r\n      const adminRoles = props.roles.filter((role) => role.api_role_users[0].authorisation_level === 9)\r\n      \r\n      if (adminRoles.length === 1) {\r\n        return\r\n      }\r\n    }\r\n    props.handleUpdateAuth(props.role.api_role, newValue)\r\n  }\r\n\r\n  const renderSettings = () => {\r\n    if (props.role.api_role === \"change_role\") {\r\n      return null\r\n    }\r\n\r\n    switch (props.mode) {\r\n      case \"view\":\r\n        return (\r\n          <Grid \r\n            container \r\n            className={classes.root}\r\n            direction=\"column\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Grid item style={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              width: \"100%\"\r\n            }}>\r\n              <div style={{\r\n                height: 20,\r\n                width: 'calc(100% - 110px)'\r\n              }}>\r\n                Authorisation level\r\n              </div>\r\n              <ValueSelect \r\n                value={props.role.api_role_users[0].authorisation_level}\r\n                disabled\r\n                maxValue={9}\r\n                minValue={1}\r\n                onChange={onAuthChange}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        )\r\n      case \"admin\":\r\n        return (\r\n          <Grid \r\n            container \r\n            className={classes.root}\r\n            direction=\"column\"\r\n            alignItems=\"center\"\r\n          >\r\n            <Grid item style={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              alignItems: \"center\",\r\n              justifyContent: \"center\",\r\n              width: \"100%\"\r\n            }}>\r\n              <div style={{\r\n                height: 20,\r\n                width: 'calc(100% - 110px)'\r\n              }}>\r\n                Authorisation level\r\n              </div>\r\n              <ValueSelect \r\n                value={props.role.api_role_users[0].authorisation_level}\r\n                maxValue={9}\r\n                minValue={1}\r\n                onChange={onAuthChange}\r\n              />\r\n            </Grid>\r\n            <Grid item style={{ \r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              padding: 10,\r\n              marginTop: 20,\r\n            }}>\r\n              <Button type=\"normal\" variant=\"outlined\" buttonText=\"Delete role\" color=\"primary\" onClick={handleDelete} />\r\n            </Grid>\r\n          </Grid>\r\n        )\r\n    }\r\n  }\r\n\r\n  return (\r\n\r\n    <div>\r\n      {renderSettings()}\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default RoleSettings","import React, { useState, useEffect } from \"react\"\r\nimport Grid from \"@material-ui/core/grid\"\r\nimport RoleList from \"../complex/roleList\"\r\nimport RoleDetail from \"../complex/roleDetail\"\r\nimport RoleSettings from \"../complex/roleSettings\"\r\nimport Divider from \"@material-ui/core/divider\"\r\nimport axios from \"axios\"\r\n\r\nvar jwt = require(\"jsonwebtoken\")\r\n\r\nconst Team = (props) => {\r\n  const [roles, setRoles] = useState([])\r\n  const [selected, setSelected] = useState(0)\r\n  const [mode, setMode] = useState(\"view\")\r\n\r\n  useEffect(() => {\r\n    const encrypted = window.localStorage.getItem(\"authToken\")\r\n    const token = jwt.decode(JSON.parse(encrypted))\r\n\r\n    if (token.authLevel === 9) {\r\n      setMode(\"admin\")\r\n    }\r\n  }, [])\r\n\r\n  const getAllRoles = () => {\r\n    axios.get(\"/api/roles/allusers/\" + props.project_id).then((rolesWithUsers) => {\r\n      let api_roles = []\r\n\r\n      rolesWithUsers.data.forEach((roleWithUser) => {\r\n\r\n        if (api_roles.indexOf(roleWithUser.role.role_name) === -1) {\r\n          api_roles = [...api_roles, roleWithUser.role.role_name]\r\n        }\r\n      })\r\n\r\n      let final_roles = []\r\n      let allUsers = []\r\n\r\n      api_roles.forEach((api_role) => {\r\n        let api_role_users = []\r\n\r\n        rolesWithUsers.data.forEach((roleWithUser) => {\r\n\r\n          if (roleWithUser.role.role_name === api_role) {\r\n            if (roleWithUser.role.user_id === \"-1\") {\r\n              api_role_users = [...api_role_users, {username: \"PLACEHOLDER\", user_id: -1, role_id: roleWithUser.role.role_id,\r\n              authorisation_level: roleWithUser.role.authorisation_level}]\r\n            } else {\r\n              allUsers = [...allUsers, {username: roleWithUser.user[0].username, user_id: roleWithUser.user[0].user_id,\r\n                role_id: roleWithUser.role.role_id\r\n                }]\r\n\r\n              api_role_users = [...api_role_users, {username: roleWithUser.user[0].username, user_id: roleWithUser.user[0].user_id,\r\n              role_id: roleWithUser.role.role_id,\r\n              authorisation_level: roleWithUser.role.authorisation_level\r\n              }]\r\n            }\r\n          }\r\n\r\n        })\r\n\r\n        final_roles = [...final_roles, {api_role, api_role_users}]\r\n      })\r\n\r\n      final_roles = [...final_roles, {api_role: \"change_role\", api_role_users: allUsers}]\r\n\r\n      setRoles(final_roles)\r\n\r\n    })\r\n  }\r\n  useEffect(() => {\r\n    getAllRoles()\r\n  }, [])\r\n\r\n  const onChangeRole = (role) => {\r\n    setSelected(parseInt(role))\r\n  }\r\n\r\n  const onChangeMode = () => {\r\n    setSelected(roles.length - 1)\r\n  }\r\n\r\n  const onDeleteRole = (role) => {\r\n    axios.delete(\"/api/roles\", {data: {role_name: role, project_id: props.project_id}}).then(() => {\r\n      setSelected(selected => selected === 0 ? 0 : selected - 1)\r\n      getAllRoles()\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  const onAddRole = () => {\r\n    getAllRoles()\r\n  }\r\n\r\n  const handleChangeUserRole = (role_id, newRole) => {\r\n\r\n    let formData = new FormData()\r\n    formData.append(\"role_id\", role_id)\r\n    formData.append(\"new_role\", newRole)\r\n    formData.append(\"project_id\", props.project_id)\r\n\r\n    axios.post(\"/api/roles/update\", formData).then((response) => {\r\n      getAllRoles()\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }   \r\n\r\n  const handleUpdateAuth = (role_name, auth_level) => {\r\n    let formData = new FormData()\r\n    formData.append(\"role_name\", role_name)\r\n    formData.append(\"project_id\", props.project_id)\r\n    formData.append(\"auth_level\", auth_level)\r\n\r\n    axios.post(\"/api/roles/auth/update\", formData).then(() => {\r\n\r\n      const newRoles = [...roles]\r\n      const role = newRoles.filter((role) => role.api_role === role_name)\r\n      const index = newRoles.indexOf(role)\r\n      \r\n      role[0].api_role_users.forEach((user) => {\r\n        user.authorisation_level = auth_level\r\n      })\r\n\r\n      newRoles[index] = role\r\n      setRoles(newRoles)\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  return (\r\n\r\n    <Grid\r\n      container\r\n      direction=\"row\"\r\n      style={{\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        paddingTop: 48\r\n      }}>\r\n      <Grid item xs={3} style={{\r\n        display: \"flex\",\r\n      }}>\r\n        <RoleList \r\n          selected={selected}\r\n          project_id={props.project_id}\r\n          onChange={onChangeRole}\r\n          roles={roles}\r\n          onAddRole={onAddRole}\r\n          mode={mode}\r\n          onChangeMode={onChangeMode}\r\n          setNotificationOpen={props.setNotificationOpen}\r\n        />\r\n        <Divider orientation=\"vertical\"/>\r\n      </Grid>\r\n      <Grid item xs={selected === roles.length -1 ? 9 : 5} style={{\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"center\",\r\n      }}>\r\n        {roles.length === 0 ? null : <RoleDetail \r\n          role={roles[selected]}\r\n          roles={roles}\r\n          project_id={props.project_id}\r\n          onChangeRole={handleChangeUserRole}\r\n          handleDelete={onDeleteRole}\r\n          mode={mode}\r\n          rerender={onAddRole}\r\n          onChangeMode={selected === roles.length -1 ? true : false}\r\n        />}\r\n        {selected === roles.length -1 ? null : <Divider orientation=\"vertical\"/>}\r\n      </Grid>\r\n      {selected === roles.length -1 ? null :\r\n      <Grid item xs={4}>\r\n        {roles.length === 0 ? null : <RoleSettings \r\n          handleDelete={onDeleteRole}\r\n          handleUpdateAuth={handleUpdateAuth}\r\n          project_id={props.project_id}\r\n          roles={roles}\r\n          role={roles[selected]}\r\n          mode={mode}\r\n        />}\r\n      </Grid>}\r\n    </Grid>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default Team","import React, { useState, useEffect, useCallback } from \"react\"\r\nimport useDimensions from 'react-use-dimensions';\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport MaterialBreadcrumbs from \"@material-ui/core/Breadcrumbs\"\r\nimport axios from \"axios\"\r\n\r\nconst Breadcrumb = (props) => {\r\n  const [ref, position] = useDimensions();\r\n  const [hover, setHover] = useState(false)\r\n\r\n  const handleMouseMove = ev => {\r\n    if (props.listenForDrag !== false) {\r\n      if (ev.clientX >= position.x && ev.clientX <= position.x + position.width) {\r\n        if (ev.clientY >= position.y && ev.clientY <= position.y + position.height) {\r\n          setHover(true)\r\n        } else {\r\n          setHover(false)\r\n        }\r\n      } else {\r\n        setHover(false)\r\n      }\r\n    } else {\r\n      setHover(false)\r\n    }\r\n  }\r\n\r\n  const handleMouseUp = ev => {\r\n    if (props.listenForDrag !== false) {\r\n      if (ev.clientX >= position.x && ev.clientX <= position.x + position.width) {\r\n        if (ev.clientY >= position.y && ev.clientY <= position.y + position.height) {\r\n          handleAddFile(props.listenForDrag)\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"mouseup\", handleMouseUp);\r\n    window.addEventListener(\"mousemove\", handleMouseMove);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"mouseup\", handleMouseUp);\r\n      window.removeEventListener(\"mousemove\", handleMouseMove)\r\n    };\r\n  }, [handleMouseUp, handleMouseMove]);\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    crumb: {\r\n      WebkitUserSelect: \"none\",\r\n      msUserSelect: \"none\",\r\n      userSelect: \"none\",\r\n      cursor: \"pointer\",\r\n      height: 20,\r\n      borderRadius: 10,\r\n      paddingBottom: 2,\r\n      width: \"100%\",\r\n      marginRight: 15,\r\n      textAlign: \"center\",\r\n      backgroundColor: hover ? theme.palette.secondary.light : theme.palette.background.default,\r\n      '&:hover, &:focus': {\r\n        backgroundColor: theme.palette.secondary.light,\r\n      },\r\n    }\r\n  }))\r\n  const classes = useStyles()\r\n\r\n  const onClick = (value) => {\r\n    props.onReturn(value)\r\n  }\r\n\r\n  const handleAddFile = (child) => {\r\n    let formData = new FormData()\r\n    formData.append(\"child_id\", parseInt(child.id))\r\n    formData.append(\"type\", child.type)\r\n\r\n    axios.post(\"/api/file_system/\" + parseInt(props.folder_id), formData).then(() => {\r\n      props.rerender()\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  return (\r\n\r\n    <div\r\n      ref={ref}\r\n      onClick={() => onClick(props.folder_id)}\r\n      className={classes.crumb}>\r\n        {props.folder_name}\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default Breadcrumb","import React from \"react\"\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport MaterialBreadcrumbs from \"@material-ui/core/Breadcrumbs\"\r\nimport Breadcrumb from \"./breadcrumb\"\r\n\r\nconst Breadcrumbs = (props) => {\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      marginLeft: 20,\r\n      marginBottom: 20,\r\n      paddingTop: 5,\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      alignItems: \"center\",\r\n      '& .MuiBreadcrumbs-separator': {\r\n        height: 20,\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n        paddingTop: 2,\r\n      }\r\n    },\r\n    finalCrumb: {\r\n      WebkitUserSelect: \"none\",\r\n      msUserSelect: \"none\",\r\n      userSelect: \"none\",\r\n      height: 20,\r\n      borderRadius: 10,\r\n      paddingBottom: 2,\r\n      width: \"100%\",\r\n      marginRight: 15,\r\n      textAlign: \"center\",\r\n      color: theme.palette.primary.main\r\n    }\r\n  }))\r\n  const classes = useStyles()\r\n\r\n  const renderCrumbs = () => {\r\n    return props.ancestry.map((folder, i) => {\r\n      if (i === props.ancestry.length - 1) {\r\n        return (\r\n          <div key={i} className={classes.finalCrumb}>\r\n          {folder.folder_name}\r\n        </div>\r\n        )\r\n      } else {\r\n        return (\r\n          <Breadcrumb\r\n            onReturn={props.onReturn}\r\n            folder_id={folder.folder_id}\r\n            folder_name={folder.folder_name}\r\n            key={i}\r\n            listenForDrag={props.listenForDrag}\r\n            ancestry={props.ancestry}\r\n            rerender={props.rerender}\r\n          />\r\n        )\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n\r\n    <div>\r\n      <MaterialBreadcrumbs\r\n        separator=\"›\"\r\n        className={classes.root}\r\n      >\r\n        {renderCrumbs()}\r\n      </MaterialBreadcrumbs>\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default Breadcrumbs","import React from \"react\"\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport Card from \"@material-ui/core/card\"\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\n\r\nconst ColorPicker = (props) => {\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: 170,\r\n      height: 50,\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n      backgroundColor: theme.palette.type === \"light\" ? theme.palette.background.default : theme.palette.secondary.light\r\n    },\r\n    cube: {\r\n      width: 16,\r\n      height: 16,\r\n      margin: 2,\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      cursor: \"pointer\",\r\n      '&:hover': {\r\n        width: 18,\r\n        height: 18,\r\n      }\r\n    },\r\n    clearCross: {\r\n      color: \"red\",\r\n      fontSize: 22\r\n    }\r\n  }))\r\n  const classes = useStyles()\r\n\r\n  const colors = [\"red\", \"orange\", \"yellow\", \"LimeGreen\", \"green\", \"blue\", \"purple\"]\r\n\r\n  const onChangeColor = (event) => {\r\n    props.colorChange(event.target.id)\r\n  }\r\n\r\n  const renderColorCubes = () => {\r\n    let colorsArray = colors.map((color, i) => {\r\n      return (\r\n        <Card\r\n          square\r\n          onClick={onChangeColor}\r\n          key={i}\r\n          id={color}\r\n          className={classes.cube}\r\n          style={{ backgroundColor: color }}\r\n        />\r\n      )\r\n    })\r\n\r\n    colorsArray = [...colorsArray, (\r\n      <Card\r\n          square\r\n          onClick={onChangeColor}\r\n          key={colors.length + 1}\r\n          id={null}\r\n          className={classes.cube}\r\n          style={{ backgroundColor: \"white\" }}\r\n        >\r\n          <ClearIcon className={classes.clearCross}/>\r\n        </Card>\r\n    )]\r\n\r\n    return colorsArray\r\n  }\r\n\r\n  return (\r\n    <Card\r\n      id=\"toolbar-element\"\r\n      className={classes.root}\r\n    >\r\n      {renderColorCubes()}\r\n    </Card>\r\n  )\r\n\r\n}\r\n\r\nexport default ColorPicker","import React, { useState, useEffect, useRef } from \"react\"\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport Card from \"@material-ui/core/card\"\r\nimport Grid from \"@material-ui/core/grid\"\r\nimport Divider from \"@material-ui/core/divider\"\r\nimport Button from \"../basics/button\"\r\nimport IconButton from \"@material-ui/core/iconButton\"\r\nimport { Add, Description, Folder, FormatColorFill } from \"@material-ui/icons\"\r\nimport Popper from '@material-ui/core/Popper';\r\nimport ColorPicker from \"../basics/colorPicker\"\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MenuList from '@material-ui/core/MenuList';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst FileSystemMenu = (props) => {\r\n  const [addOpen, setAddOpen] = useState(false);\r\n  const [colorOpen, setColorOpen] = useState(false);\r\n  const addAnchorRef = useRef(null);\r\n  const colorAnchorRef = useRef(null);\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      marginTop: 4,\r\n      marginBottom: 10,\r\n      height: 60\r\n    },\r\n    grid: {\r\n      marginLeft: 10\r\n    },\r\n    popper: {\r\n      backgroundColor: theme.palette.type === \"dark\" ? theme.palette.secondary.light : theme.palette.background.default,\r\n      boxShadow: theme.palette.type === \"dark\" ? 0 : '0px 0px 15px 5px rgba(34, 35, 58, 0.2)',\r\n    }\r\n  }))\r\n  const classes = useStyles()\r\n\r\n  const handleAddToggle = () => {\r\n    setAddOpen((prevAddOpen) => !prevAddOpen);\r\n  };\r\n\r\n  const handleColorToggle = () => {\r\n    setColorOpen((prevColorOpen) => !prevColorOpen);\r\n  };\r\n\r\n  const handleClose = (event) => {\r\n    if (addAnchorRef.current && addAnchorRef.current.contains(event.target) || colorAnchorRef.current && colorAnchorRef.current.contains(event.target)) {\r\n      return;\r\n    }\r\n\r\n    setAddOpen(false);\r\n    setColorOpen(false);\r\n  };\r\n\r\n  function handleListKeyDown(event) {\r\n    if (event.key === 'Tab') {\r\n      event.preventDefault();\r\n      setAddOpen(false);\r\n      setColorOpen(false);\r\n    }\r\n  }\r\n\r\n  const handleClickUpload = (event) => {\r\n    handleClose(event)\r\n    props.onClickUpload()\r\n  }\r\n\r\n  const handleCreateFolder = (event) => {\r\n    handleClose(event)\r\n    props.onCreateFolder()\r\n  }\r\n\r\n  const handleAddAuth = () => {\r\n    props.onAddAuth()\r\n  }\r\n\r\n  const onColorChange = (color) => {\r\n    props.onColorChange(color)\r\n    setColorOpen(false)\r\n  }\r\n\r\n  return (\r\n\r\n    <Card\r\n      className={classes.root}\r\n      square\r\n      elevation={0}\r\n    >\r\n      <Grid\r\n        container\r\n        className={classes.grid}\r\n        spacing={3}\r\n      >\r\n        <Grid\r\n          item\r\n        >\r\n          <IconButton\r\n            ref={addAnchorRef}\r\n            aria-controls={addOpen ? 'menu-list-grow' : undefined}\r\n            aria-haspopup=\"true\"\r\n            onClick={handleAddToggle}\r\n            variant=\"contained\"\r\n          >\r\n            <Add fontSize=\"default\" />\r\n          </IconButton>\r\n          <Popper\r\n            open={addOpen} \r\n            anchorEl={addAnchorRef.current} \r\n            placement=\"bottom-start\"\r\n            role={undefined} \r\n            transition \r\n            disablePortal\r\n          >\r\n            {({ TransitionProps }) => (\r\n              <Grow\r\n                {...TransitionProps}\r\n              >\r\n                <Paper className={classes.popper}>\r\n                  <ClickAwayListener onClickAway={handleClose}>\r\n                    <MenuList \r\n                      autoFocusItem={addOpen} \r\n                      id=\"menu-list-grow\"\r\n                      onKeyDown={handleListKeyDown}\r\n                      style={{\r\n                        display: \"flex\",\r\n                        flexDirection: \"column\",\r\n                        alignItems: \"left\"\r\n                      }}\r\n                    >\r\n                      <MenuItem \r\n                        onClick={handleClickUpload}\r\n                      > \r\n                        <Description fontSize=\"large\" color=\"secondary\" style={{ marginRight: 10 }}/>\r\n                        Add file\r\n                      </MenuItem>\r\n                      <MenuItem \r\n                        onClick={handleCreateFolder}\r\n                      > \r\n                        <Folder fontSize=\"large\" color=\"secondary\" style={{ marginRight: 10 }}/>\r\n                        Add folder\r\n                      </MenuItem>\r\n                    </MenuList>\r\n                  </ClickAwayListener>\r\n                </Paper>\r\n              </Grow>\r\n            )}\r\n          </Popper>\r\n        </Grid>\r\n        <Grid\r\n          item\r\n        >\r\n          <Button\r\n            type=\"icon\"\r\n            icon=\"Lock\"\r\n            variant=\"contained\"\r\n            color=\"default\"\r\n            disabled={props.selectedFolder === null || props.selectedFolder.authorisation_level !== 0}\r\n            onClick={handleAddAuth}\r\n          />\r\n        </Grid>\r\n        <Grid\r\n          item\r\n        >\r\n          <IconButton\r\n            id=\"toolbar-element\"\r\n            disabled={props.selectedFolder === null}\r\n            onClick={handleColorToggle}\r\n            ref={colorAnchorRef}\r\n            aria-controls={colorOpen ? 'menu-list-grow' : undefined}\r\n            aria-haspopup=\"true\"\r\n          >\r\n            <FormatColorFill fontSize=\"default\" id=\"toolbar-element\"/>\r\n            {props.selectedFolder !== null ? props.selectedFolder.folder_color !== null ? <div style={{\r\n              width: 24,\r\n              height: 4,\r\n              background: props.selectedFolder.folder_color,\r\n              position: \"absolute\",\r\n              bottom: 12,\r\n            }} /> : null : null}\r\n          </IconButton>\r\n          <Popper \r\n            open={colorOpen} \r\n            anchorEl={colorAnchorRef.current} \r\n            placement=\"bottom\"\r\n            role={undefined} \r\n            transition \r\n            disablePortal\r\n          >\r\n            {({ TransitionProps }) => (\r\n              <Grow\r\n                {...TransitionProps}\r\n              >\r\n                <Paper className={classes.popper}>\r\n                  <ClickAwayListener onClickAway={handleClose}>\r\n                    <div>\r\n                      <ColorPicker colorChange={onColorChange}/>\r\n                    </div>\r\n                  </ClickAwayListener>\r\n                </Paper>\r\n              </Grow>\r\n            )}\r\n          </Popper>\r\n        </Grid>\r\n      </Grid>\r\n      <Divider variant=\"middle\" />\r\n    </Card>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default FileSystemMenu","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport useDimensions from 'react-use-dimensions';\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport Paper from \"@material-ui/core/paper\"\r\nimport Typography from \"@material-ui/core/Typography\"\r\nimport LayersIcon from '@material-ui/icons/LayersOutlined';\r\nimport ImageIcon from '@material-ui/icons/ImageOutlined';\r\nimport DescriptionIcon from '@material-ui/icons/DescriptionOutlined';\r\nimport TheatersIcon from '@material-ui/icons/TheatersOutlined';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Button from \"../basics/button\"\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport axios from \"axios\"\r\n\r\nconst initialState = {\r\n  mouseX: null,\r\n  mouseY: null,\r\n};\r\n\r\nconst File = (props) => {\r\n  const [state, setState] = useState(initialState);\r\n  const [anchorEl, setAnchorEl] = useState (null)\r\n  const [ref, position] = useDimensions();\r\n  const [translate, setTranslate] = useState({\r\n    isDragging: false,\r\n    translateX: null,\r\n    translateY: null\r\n  })\r\n\r\n  useEffect(() => {\r\n    setTranslate({\r\n      ...translate,\r\n      translateX: position.x,\r\n      translateY: position.y\r\n    })\r\n  }, [position])\r\n\r\n  const handleMouseMove = ev => {\r\n    if (translate.isDragging) {\r\n      setTranslate(prevTranslate => ({\r\n        ...prevTranslate,\r\n        translateX: ev.clientX,\r\n        translateY: ev.clientY\r\n      }));\r\n    }\r\n  }\r\n\r\n  const handleMouseUp = ev => {\r\n    if (translate.isDragging) {\r\n      setTranslate(prevTranslate => ({\r\n        ...prevTranslate,\r\n        isDragging: false\r\n      }));\r\n      props.onDragStop()\r\n    }\r\n  }\r\n\r\n  const handleDragStart = (event) => {\r\n    event.preventDefault()\r\n    setTranslate({...translate, isDragging: true})\r\n    props.onDragStart({id: props.file_id, type: \"file\"})\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"mousemove\", handleMouseMove);\r\n    window.addEventListener(\"mouseup\", handleMouseUp);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"mousemove\", handleMouseMove);\r\n      window.removeEventListener(\"mouseup\", handleMouseUp);\r\n    };\r\n  }, [handleMouseMove, handleMouseUp]);\r\n\r\n\r\n  const onSelect = () => {\r\n    props.selectFile(props.file_id)\r\n  }\r\n\r\n  const onDeselect = (event) => {\r\n    if (event !== undefined) {\r\n      if (event.target.id !== \"folder-element\" && event.target.parentNode.id !== \"folder-element\" && event.target.id !== \"file-element\" && event.target.parentNode.id !== \"file-element\") {\r\n        props.selectFile(null)\r\n      }\r\n    }\r\n  } \r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      cursor: 'pointer',\r\n      backgroundColor: parseInt(props.selected) === parseInt(props.file_id) ? theme.palette.secondary.light : theme.palette.background.default,\r\n      paddingLeft: 10,\r\n    },\r\n    text: {\r\n      WebkitUserSelect: \"none\",\r\n      msUserSelect: \"none\",\r\n      userSelect: \"none\",\r\n    },\r\n    draggable: {\r\n      backgroundColor: theme.palette.secondary.light\r\n    }\r\n  }))\r\n  const classes = useStyles()\r\n\r\n  const fileTypes = [[\"jpg\", \"png\", \"jpeg\"],[\"txt\", \"docx\"],[\"stl\", \"3ds\", \"f3d\"],[\"mp4\", \"mov\", \"avi\"],[\"mp3\", \"wav\", \"midi\"]]\r\n\r\n  const renderIcon = () => {\r\n    let fileType\r\n\r\n    for (let i=0; i<fileTypes.length; i++) {\r\n      if (fileTypes[i].indexOf(props.fileType) > -1){\r\n        fileType = i\r\n      }\r\n    }\r\n\r\n    switch (fileType){\r\n      default:\r\n        return <DescriptionIcon fontSize=\"large\" color=\"secondary\" id=\"file-element\"/>\r\n      case 0:\r\n        return <ImageIcon fontSize=\"large\" color=\"secondary\" id=\"file-element\"/>\r\n      case 1:\r\n        return <DescriptionIcon fontSize=\"large\" color=\"secondary\"id=\"file-element\" />\r\n      case 2:\r\n        return <LayersIcon fontSize=\"large\" color=\"secondary\" id=\"file-element\"/>\r\n      case 3:\r\n        return <TheatersIcon fontSize=\"large\" color=\"secondary\" />\r\n    }\r\n  }\r\n\r\n  const handleClick = (event) => {\r\n    props.selectFile(null)\r\n\r\n    event.preventDefault();\r\n    onSelect()\r\n    setState({\r\n      mouseX: event.clientX - 2,\r\n      mouseY: event.clientY - 4,\r\n    });\r\n  };\r\n\r\n  const onMore = (e) => {\r\n    setAnchorEl(e.currentTarget)\r\n  }\r\n\r\n  const onDelete = () => {\r\n    let formData = new FormData()\r\n\r\n    formData.append(\"folder_id\", parseInt(props.folder_id))\r\n    formData.append(\"type\", 'file')\r\n\r\n    const url = \"/api/file_system/delete/\" + props.file_id\r\n    axios.post(url, formData).then((response, error) => {\r\n      if (error) {\r\n        console.log(error)\r\n      } else {\r\n        setAnchorEl(null)\r\n        props.updateParent(`props.fileIndex`)\r\n      }\r\n    })\r\n  }\r\n\r\n  const onDownload = () => {\r\n    const url = \"http://localhost:3001/api/files/\" + parseInt(props.file_id)\r\n\r\n    const link = document.createElement('a')\r\n    link.href = url\r\n    document.body.appendChild(link)\r\n    link.click()\r\n    document.body.removeChild(link)\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setState(initialState);\r\n    onDeselect()\r\n    setAnchorEl(null)\r\n  }\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      id=\"file-element\"\r\n      onDragStart={props.type === \"normal\" ? handleDragStart : null}\r\n      style={{\r\n        position: translate.isDragging && translate.translateX !== null ? \"absolute\" : null,\r\n        left: translate.translateX,\r\n        top: translate.translateY\r\n      }}\r\n      draggable={props.type === \"normal\"}\r\n    >\r\n      {\r\n        \r\n        translate.isDragging === false ? \r\n        <ClickAwayListener onClickAway={onDeselect}>\r\n          <Grid \r\n            container \r\n            direction=\"row\" \r\n            justify=\"center\" \r\n            alignItems=\"center\"\r\n            className={classes.root}\r\n            onClick={onSelect}\r\n            onContextMenu={handleClick}\r\n            id=\"file-element\"\r\n          >\r\n            <Grid\r\n              item\r\n              xs={1}\r\n              style={{ marginTop: 2 }}\r\n              id=\"file-element\"\r\n            >\r\n              {props.type === \"skeleton\" ?\r\n                <Skeleton\r\n                  variant=\"circle\"\r\n                  width={40}\r\n                  height={40}\r\n                  id=\"file-element\"\r\n                />\r\n                :\r\n                renderIcon()\r\n              }\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={8}\r\n              style={{ marginTop: 2 }}\r\n              id=\"file-element\"\r\n            >\r\n              {props.type === \"skeleton\" ?\r\n                <div style={{  width: \"70%\", marginTop: 2 }} id=\"file-element\">\r\n                  <Skeleton variant=\"text\" />\r\n                  <Skeleton variant=\"text\" />\r\n                </div>\r\n                :\r\n                <Typography className={classes.text} id=\"file-element\">\r\n                  {props.fileName}\r\n                </Typography>\r\n              }\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={2}\r\n              id=\"file-element\"\r\n            >\r\n              {props.type === \"skeleton\" ?\r\n                  <div style={{  width: \"50%\", marginTop: 2 }} id=\"file-element\">\r\n                    <Skeleton variant=\"text\" />\r\n                    <Skeleton variant=\"text\" />\r\n                  </div>\r\n                  :\r\n                  <Typography className={classes.text} id=\"file-element\">\r\n                    {props.fileType}\r\n                  </Typography>\r\n                }\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={1}\r\n              id=\"file-element\"\r\n            >\r\n              {props.type === \"normal\" ?\r\n                <React.Fragment>\r\n                  <Button id=\"file-element\" type=\"icon\" icon=\"More\" color=\"secondary\" onClick={onMore} aria-controls=\"simple-menu\" aria-haspopup=\"true\"/>\r\n                  <Menu\r\n                    anchorEl = {anchorEl}\r\n                    disableScrollLock\r\n                    id=\"file-element\"\r\n                    keepMounted\r\n                    open={Boolean(anchorEl) || state.mouseY !== null}\r\n                    onClose={handleClose}\r\n                    getContentAnchorEl={null}\r\n                    anchorOrigin={{\r\n                      vertical: state.mouseY !== null ? \"bottom\" :'bottom',\r\n                      horizontal: state.mouseY !== null ? \"right\" : 'center',\r\n                    }}\r\n                    transformOrigin={{\r\n                      vertical: state.mouseY !== null ? \"top\" :'top',\r\n                      horizontal: state.mouseY !== null ? \"left\" : 'center',\r\n                    }}\r\n                    anchorReference={state.mouseY !== null ? \"anchorPosition\" : \"anchorEl\"}\r\n                    anchorPosition={\r\n                      state.mouseY !== null && state.mouseX !== null\r\n                        ? { top: state.mouseY, left: state.mouseX }\r\n                        : undefined\r\n                    }\r\n                  >\r\n                    <MenuItem onClick={onDelete} id=\"file-element\">\r\n                      <DeleteIcon fontSize=\"small\" color=\"secondary\"/>\r\n                      Delete\r\n                    </MenuItem>\r\n                    <MenuItem onClick={onDownload} id=\"file-element\">\r\n                      <GetAppIcon fontSize=\"small\" color=\"secondary\"/>\r\n                      Download\r\n                    </MenuItem>\r\n                  </Menu>\r\n                </React.Fragment>\r\n                : null\r\n              }\r\n            </Grid>\r\n          </Grid>\r\n        </ClickAwayListener>\r\n\r\n        :\r\n\r\n        <Paper\r\n          style={{ padding: 5 }}\r\n          className={classes.draggable}\r\n        >\r\n          <Grid\r\n            container\r\n            direction=\"row\"\r\n            alignItems=\"center\"\r\n            justify=\"center\"\r\n          >\r\n            <Grid\r\n              item\r\n              style={{ marginRight: 5 }}\r\n            >\r\n              {renderIcon()}\r\n            </Grid>\r\n            <Grid\r\n              item\r\n            >\r\n              <div>\r\n                {props.fileName}\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </Paper>\r\n\r\n      }\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default File","import React, { useState } from \"react\"\r\nimport Card from \"@material-ui/core/card\"\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport Button from \"@material-ui/core/Button\"\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport axios from \"axios\"\r\n\r\nconst RenameProject = (props) => {\r\n  const [projectName, setProjectName] = useState(props.defaultValue)\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      position: \"absolute\",\r\n        width: 300,\r\n        height: 200,\r\n        left: \"50%\",\r\n        top: \"50%\",\r\n        marginLeft: -150,\r\n        marginTop: -105,\r\n    }\r\n  }))\r\n  const classes = useStyles()\r\n\r\n  const onChange = (event) => {\r\n    setProjectName(event.target.value)\r\n  }\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault()\r\n\r\n    let formData = new FormData()\r\n    formData.append(\"new_name\", projectName)\r\n\r\n    axios.post(\"/api/folders/\" + props.folder_id, formData).then(() => {\r\n      props.close()\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  return (\r\n\r\n    <Card\r\n      className={classes.root}\r\n    >\r\n      <form onSubmit={onSubmit} style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        marginTop: 50,\r\n      }}>\r\n        <div style={{\r\n          marginBottom: 40\r\n        }}>\r\n          <TextField \r\n            label=\"Project name\"\r\n            variant=\"filled\"\r\n            color=\"primary\"\r\n            value={projectName}\r\n            onChange={onChange}\r\n          />\r\n        </div>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          type=\"submit\"\r\n        >\r\n          Rename\r\n        </Button>\r\n      </form>\r\n    </Card>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default RenameProject","import React, { useState, useEffect } from \"react\"\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport useDebounce from \"../../hooks/useDebounce\"\r\nimport Card from \"@material-ui/core/card\"\r\nimport Button from \"../basics/button\"\r\nimport NoEncryptionIcon from '@material-ui/icons/NoEncryption';\r\n\r\nconst AuthorisationMarker = (props) => {\r\n  const [authorisationLevel, setAuthorisationLevel] = useState(props.level)\r\n  const theme = useTheme()\r\n\r\n  const debouncedAuthLevel = useDebounce(authorisationLevel, 150)\r\n\r\n  useEffect(() => {\r\n      props.onChangeAuth(authorisationLevel)\r\n  },[debouncedAuthLevel])\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    image: {\r\n      width: props.mode === \"edit\" ? 75 : 50,\r\n      height: props.mode === \"edit\" ? 75 : 50,\r\n    },\r\n    editCard: {\r\n      position: \"absolute\",\r\n      left: \"50%\",\r\n      top: \"50%\",\r\n      marginTop: \"-50px\",\r\n      marginLeft: \"-100px\",\r\n      width: 200,\r\n      height: 100,\r\n      borderRadius: 50,\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    }\r\n  }))\r\n  const classes = useStyles()\r\n\r\n  const getImageSource = () => {\r\n\r\n    switch (theme.palette.type){\r\n      case \"light\":\r\n        if (props.mode === \"edit\") {\r\n          return \"/static/images/authorisation-\" + authorisationLevel + \".svg\"\r\n        } else {\r\n          return \"/static/images/authorisation-\" + props.level + \".svg\"\r\n        }\r\n      case \"dark\":\r\n        if (props.mode === \"edit\") {\r\n          return \"/static/images/authorisation-\" + authorisationLevel + \"-dark.svg\"\r\n        } else {\r\n          return \"/static/images/authorisation-\" + props.level + \"-dark.svg\"\r\n        }\r\n    }\r\n  }\r\n\r\n  const onDecrease = () => {\r\n    if (authorisationLevel > 0) {\r\n      setAuthorisationLevel(authorisationLevel => authorisationLevel - 1)\r\n    }\r\n  }\r\n\r\n  const onIncrease = () => {\r\n    if (authorisationLevel < 9) {\r\n      setAuthorisationLevel(authorisationLevel => authorisationLevel + 1)\r\n    }\r\n  }\r\n\r\n  const renderMarker = () => {\r\n    if (props.mode === \"edit\") {\r\n      return (\r\n        <Card\r\n          className={classes.editCard}\r\n        >\r\n          <Button\r\n            type=\"icon\"\r\n            icon=\"ArrowLeft\"\r\n            onClick={onDecrease}\r\n            disabled={authorisationLevel === 0}\r\n          />\r\n          {authorisationLevel === 0 ? <NoEncryptionIcon fontSize=\"large\"/> : <img\r\n            id={props.markerId}\r\n            className={classes.image}\r\n            src={getImageSource()}\r\n          />}\r\n          <Button\r\n            type=\"icon\"\r\n            icon=\"ArrowRight\"\r\n            onClick={onIncrease}\r\n            disabled={authorisationLevel === 9}\r\n          />\r\n        </Card>\r\n      )\r\n    } else {\r\n      return (\r\n        <img\r\n          id={props.markerId}\r\n          className={classes.image}\r\n          src={getImageSource()}\r\n        />\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n\r\n    <div>\r\n      {renderMarker()}\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default AuthorisationMarker","import React, { useState, useEffect } from 'react';\r\n\r\nexport default function useDebounce(value, delay) {\r\n  const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n  useEffect(\r\n    () => {\r\n      const handler = setTimeout(() => {\r\n        setDebouncedValue(value);\r\n      }, delay);\r\n      return () => {\r\n        clearTimeout(handler);\r\n      };\r\n    },\r\n    [value] \r\n  );\r\n\r\n  return debouncedValue;\r\n}\r\n","import React, { useState, useEffect, useRef } from \"react\"\r\nimport useDimensions from 'react-use-dimensions';\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport Card from \"@material-ui/core/card\"\r\nimport Paper from \"@material-ui/core/paper\"\r\nimport Grid from \"@material-ui/core/grid\"\r\nimport FolderIcon from \"@material-ui/icons/Folder\"\r\nimport Popper from \"@material-ui/core/popper\"\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport RenameProject from \"./renameProject\"\r\nimport Grow from '@material-ui/core/Grow';\r\nimport ColorPicker from \"./colorPicker\"\r\nimport Modal from \"@material-ui/core/modal\"\r\nimport AuthorisationMarker from \"../basics/authorisationMarker\"\r\nimport { Edit, Delete, Lock, FormatColorFill } from \"@material-ui/icons\"\r\nimport axios from \"axios\"\r\nimport { connect } from \"react-redux\"\r\nimport { changeSettingsAuth } from \"../../actions\"\r\n\r\nvar jwt = require(\"jsonwebtoken\")\r\n\r\nconst initialState = {\r\n  mouseX: null,\r\n  mouseY: null,\r\n};\r\n\r\nconst Folder = (props) => {\r\n  const [state, setState] = useState(initialState);\r\n  const [renameOpen, setRenameOpen] = useState(false)\r\n  const [editAuth, setEditAuth] = useState(false)\r\n  const [colorOpen, setColorOpen] = useState(false);\r\n  const [hover, setHover] = useState(false)\r\n  const [ref, position] = useDimensions();\r\n  const [translate, setTranslate] = useState({\r\n    isDragging: false,\r\n    translateX: null,\r\n    translateY: null\r\n  })\r\n  const colorAnchorRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    setTranslate({\r\n      ...translate,\r\n      translateX: position.x,\r\n      translateY: position.y\r\n    })\r\n  }, [position])\r\n\r\n  const handleMouseMove = ev => {\r\n    if (translate.isDragging) {\r\n      setTranslate(prevTranslate => ({\r\n        ...prevTranslate,\r\n        translateX: ev.clientX,\r\n        translateY: ev.clientY\r\n      }));\r\n    }\r\n    if (props.listenForDrag !== false) {\r\n      if (ev.clientX >= position.x && ev.clientX <= position.x + 170) {\r\n        if (ev.clientY >= position.y && ev.clientY <= position.y + 200) {\r\n          setHover(true)\r\n        } else {\r\n          setHover(false)\r\n        }\r\n      } else {\r\n        setHover(false)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleMouseUp = ev => {\r\n    if (translate.isDragging) {\r\n      setTranslate(prevTranslate => ({\r\n        ...prevTranslate,\r\n        isDragging: false\r\n      }))\r\n      props.onDragStop()\r\n    }\r\n    if (props.listenForDrag) {\r\n      if (hover) {\r\n        handleAddFile(props.listenForDrag)\r\n      }\r\n    }\r\n  }\r\n  \r\n  const handleDragStart = (event) => {\r\n    event.preventDefault()\r\n    setTranslate({...translate, isDragging: true})\r\n    props.onDragStart({id: props.folder_id, type: \"folder\"})\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"mouseup\", handleMouseUp);\r\n    window.addEventListener(\"mousemove\", handleMouseMove);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"mouseup\", handleMouseUp);\r\n      window.removeEventListener(\"mousemove\", handleMouseMove)\r\n    };\r\n  }, [handleMouseUp, handleMouseMove]);\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: 170,\r\n      height: 200,\r\n      backgroundColor: props.selected || hover && props.listenForDrag !== false ? theme.palette.secondary.main : theme.palette.secondary.light,\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n    },\r\n    centralCircle: {\r\n      width: 100,\r\n      height: 100,\r\n      borderRadius: 50,\r\n      marginTop: props.authorisation_level !== 0 ? -35 : 40,\r\n      backgroundColor: theme.palette.background.default,\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\"\r\n    },\r\n    folderIcon: {\r\n      fontSize: 40,\r\n      color: props.folderColor === null ? theme.palette.secondary.main : props.folderColor\r\n    },\r\n    name: {\r\n      height: 30,\r\n      width: 150,\r\n      marginTop: 10,\r\n      marginBottom: 10,\r\n      overflow: \"hidden\",\r\n      whiteSpace: \"nowrap\",\r\n      textOverflow: \"ellipsis\",\r\n      textAlign: \"center\",\r\n      fontSize: 18,\r\n      WebkitUserSelect: \"none\",\r\n      msUserSelect: \"none\",\r\n      userSelect: \"none\",\r\n    },\r\n    authMarker: {\r\n      marginLeft: 105,\r\n      marginBottom: 15,\r\n      marginTop: 5,\r\n      WebkitUserSelect: \"none\",\r\n      msUserSelect: \"none\",\r\n      userSelect: \"none\",\r\n    },\r\n    arrowDropUp: {\r\n      position: \"relative\",\r\n      top: \"-20px\"\r\n    },\r\n    draggable: {\r\n      backgroundColor: theme.palette.secondary.light\r\n    }\r\n  }))\r\n  const classes = useStyles()\r\n\r\n  const handleAddFile = (child) => {\r\n    if (child.id !== props.folder_id) {\r\n      let formData = new FormData()\r\n      formData.append(\"child_id\", parseInt(child.id))\r\n      formData.append(\"type\", child.type)\r\n\r\n      axios.post(\"/api/file_system/\" + props.folder_id, formData).then(() => {\r\n        props.rerender()\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n      })\r\n    }\r\n  }\r\n\r\n  const onSelect = () => {\r\n    props.selectFolder(props.folder_id)\r\n  }\r\n\r\n  const onDeselect = (event) => {\r\n    if (event !== undefined) {\r\n      if (event.target.id !== \"folder-element\" && event.target.parentNode.id !== \"folder-element\" && event.target.id !== \"toolbar-element\" && event.target.parentNode.id !== \"toolbar-element\") {\r\n        props.selectFolder(null)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleClick = (event) => {\r\n    props.selectFolder(props.folder_id)\r\n    event.preventDefault();\r\n    setState({\r\n      mouseX: event.clientX - 2,\r\n      mouseY: event.clientY - 4,\r\n    });\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setState(initialState);\r\n    onDeselect()\r\n  };\r\n\r\n  const handleDoubleClick = () => {\r\n    props.handleEnterFolder(props.folder_id, props.authorisation_level)\r\n    onDeselect()\r\n  }\r\n\r\n  const handleEditAuthOpen = () => {\r\n    setEditAuth(true)\r\n    handleClose()\r\n  }\r\n  \r\n  const handleRename = () => {\r\n    setRenameOpen(true)\r\n    handleClose()\r\n  }\r\n\r\n  const handleRenameClose = () => {\r\n    setRenameOpen(false)\r\n    props.rerender()\r\n  }\r\n\r\n  const handleDelete = () => {\r\n    props.onDelete(props.folder_id)\r\n    handleClose()\r\n  }\r\n\r\n  const handleCloseColor = (event) => {\r\n    if (colorAnchorRef.current && colorAnchorRef.current.contains(event.target)) {\r\n      return;\r\n    }\r\n\r\n    setColorOpen(false);\r\n  };\r\n\r\n  const onChangeAuth = (new_auth) => {\r\n    let formData = new FormData()\r\n    formData.append(\"new_auth\", new_auth)\r\n\r\n    axios.post(\"/api/file_system/auth/\" + props.folder_id, formData).then(() => {\r\n      props.rerender()\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  const canEditAuth = () => {\r\n    const encrypted = window.localStorage.getItem(\"authToken\")\r\n    const token = jwt.decode(JSON.parse(encrypted))\r\n\r\n    if (token.authLevel >= props.projectSettings.editFilesAuth){\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {translate.isDragging ? <Card\r\n        style={{\r\n          borderWidth: 1,\r\n          borderStyle: \"solid\",\r\n          width: 168,\r\n          height: 198,\r\n        }}\r\n      /> : null }\r\n      <div\r\n        onDragStart={handleDragStart}\r\n        style={{\r\n          position: translate.isDragging && translate.translateX !== null ? \"absolute\" : null,\r\n          left: translate.translateX,\r\n          top: translate.translateY\r\n        }}\r\n        draggable\r\n      >\r\n        {!translate.isDragging ?\r\n          <div>\r\n            <ClickAwayListener \r\n              onClickAway={onDeselect}\r\n            >\r\n              <Card\r\n                ref={ref}\r\n                ref={colorAnchorRef}\r\n                id=\"folder-element\"\r\n                className={classes.root}\r\n                onClick={onSelect}\r\n                onDoubleClick={handleDoubleClick}\r\n                onContextMenu={handleClick}\r\n                style={{ cursor: state.mouseY === null ? \"pointer\" : 'context-menu' }}\r\n              >\r\n                {props.authorisation_level !== 0 ? <div\r\n                id=\"folder-element\"\r\n                className={classes.authMarker}>\r\n                  <AuthorisationMarker\r\n                    level={props.authorisation_level}\r\n                    onChangeAuth={onChangeAuth}\r\n                    mode=\"view\"\r\n                  />\r\n                </div> : null}\r\n                <div className={classes.centralCircle} id=\"folder-element\">\r\n                  <FolderIcon className={classes.folderIcon} id=\"folder-element\"/>\r\n                </div>\r\n                <div className={classes.name} id=\"folder-element\">\r\n                  {props.folder_name}\r\n                </div>\r\n              </Card>\r\n            </ClickAwayListener>\r\n            <Menu\r\n              keepMounted\r\n              disableScrollLock\r\n              open={state.mouseY !== null && canEditAuth()}\r\n              id=\"folder-element\"\r\n              onClose={handleClose}\r\n              anchorReference=\"anchorPosition\"\r\n              anchorPosition={\r\n                state.mouseY !== null && state.mouseX !== null\r\n                  ? { top: state.mouseY, left: state.mouseX }\r\n                  : undefined\r\n              }\r\n            >\r\n              <MenuItem onClick={handleRename} style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                alignItems: \"center\"\r\n              }}>\r\n                <Edit style={{ marginRight: 10 }}/>\r\n                Rename\r\n              </MenuItem>\r\n              <MenuItem \r\n                onClick={props.authorisation_level > 0 ? handleEditAuthOpen : props.onAddAuth}\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\",\r\n                  alignItems: \"center\"\r\n                }}\r\n              >\r\n                <Lock style={{ marginRight: 10 }}/>\r\n                {props.authorisation_level > 0 ? \"Edit authorisation\" : \"Add authorisation\"}\r\n              </MenuItem>\r\n              <MenuItem onClick={handleDelete} style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                alignItems: \"center\"\r\n              }}>\r\n                <Delete style={{ marginRight: 10 }}/>\r\n                Delete\r\n              </MenuItem>\r\n              <MenuItem\r\n                onClick={() => { setColorOpen(true); handleClose() }}\r\n                id=\"folder-element\"\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\",\r\n                  alignItems: \"center\"\r\n                }}\r\n              >\r\n                <FormatColorFill \r\n                  fontSize=\"default\"\r\n                  id=\"toolbar-element\"\r\n                  style={{ marginRight: 10 }}\r\n                />\r\n                {props.selectedFolder !== null? <div style={{\r\n                  width: 24,\r\n                  height: 4,\r\n                  background: props.selectedFolder.folder_color,\r\n                  position: \"absolute\",\r\n                  bottom: 6,\r\n                }} /> : null}\r\n                Color\r\n              </MenuItem>\r\n            </Menu>\r\n            <Modal\r\n              open={renameOpen}\r\n              onClose={() => setRenameOpen(false)}\r\n            >\r\n              <div>\r\n                <RenameProject \r\n                  close={handleRenameClose}\r\n                  defaultValue={props.folder_name}\r\n                  folder_id={props.folder_id}  \r\n                />\r\n              </div>\r\n            </Modal>\r\n            <Modal\r\n              open={editAuth}\r\n              onClose={() => setEditAuth(false)}\r\n              disablePortal\r\n            >\r\n              <div>\r\n                <AuthorisationMarker\r\n                  mode=\"edit\"\r\n                  level={props.authorisation_level}\r\n                  onChangeAuth={onChangeAuth}\r\n                />\r\n              </div>\r\n            </Modal>\r\n            <Popper \r\n              open={colorOpen} \r\n              anchorEl={colorAnchorRef.current}\r\n              id=\"folder-element\"\r\n              placement=\"right\"\r\n              role={undefined} \r\n              transition \r\n              disablePortal\r\n            >\r\n              {({ TransitionProps }) => (\r\n                <Grow\r\n                  {...TransitionProps}\r\n                >\r\n                  <Paper className={classes.popper}>\r\n                    <ClickAwayListener onClickAway={handleCloseColor}>\r\n                      <div>\r\n                        <ColorPicker colorChange={props.onColorChange}/>\r\n                      </div>\r\n                    </ClickAwayListener>\r\n                  </Paper>\r\n                </Grow>\r\n              )}\r\n            </Popper>\r\n          </div>\r\n\r\n          :\r\n\r\n          <div>\r\n            <Paper\r\n              style={{ padding: 5 }}\r\n              draggable\r\n              className={classes.draggable}\r\n            >\r\n              <Grid\r\n                container\r\n                direction=\"row\"\r\n                alignItems=\"center\"\r\n                justify=\"center\"\r\n              >\r\n                <Grid\r\n                  item\r\n                  style={{ marginRight: 5 }}\r\n                >\r\n                  <FolderIcon fontSize=\"large\" color=\"secondary\" />\r\n                </Grid>\r\n                <Grid\r\n                  item\r\n                >\r\n                  <div>\r\n                    {props.folder_name}\r\n                  </div>\r\n                </Grid>\r\n              </Grid>\r\n            </Paper>\r\n          </div>\r\n\r\n        }\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { projectSettings: state.projectSettings }\r\n}\r\n\r\nexport default connect(mapStateToProps, { changeSettingsAuth })(Folder)","import React, { useState } from \"react\"\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport Breadcrumbs from \"../basics/breadcrumbs\"\r\nimport FileSystemMenu from \"./fileSystemMenu\"\r\nimport Card from \"@material-ui/core/Card\"\r\nimport Grid from \"@material-ui/core/grid\"\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport FileUpload from \"../complex/fileUpload\"\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { Description, Folder } from \"@material-ui/icons\"\r\nimport File from \"../basics/file\"\r\nimport FolderComponent from \"../basics/folder\"\r\nimport axios from \"axios\"\r\n\r\nconst initialState = {\r\n  mouseX: null,\r\n  mouseY: null,\r\n};\r\n\r\nconst FolderPage = (props) => {\r\n  const [state, setState] = useState(initialState);\r\n  const [open, setOpen] = useState(false);\r\n  const [selected, setSelected] = useState(null)\r\n  const [selectedFile, setSelectedFile] = useState(null)\r\n  const [listenForDrag, setListenForDrag] = useState(false)\r\n  const [skeletons, setSkeletons] = useState([])\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: \"95%\",\r\n      height: \"100%\",\r\n      marginLeft: 10,\r\n    },\r\n    folderContainer: {\r\n      marginLeft: 30,\r\n    },\r\n    fileContainer: {\r\n      marginTop: 30\r\n    }\r\n  }))\r\n  const classes = useStyles()\r\n\r\n  const onDeleteFile = (e) => {\r\n    props.rerender()\r\n  }\r\n\r\n  const onAddFile = () => {\r\n    props.rerender()\r\n  }\r\n\r\n  const selectFile = (file_id) => {\r\n    console.log(file_id)\r\n    setSelectedFile(file_id)\r\n  }\r\n\r\n  const handleFileUploaded = () => {\r\n    const skeletonCopy = [...skeletons]\r\n    skeletonCopy.shift()\r\n    setSkeletons(skeletonCopy)\r\n  }\r\n\r\n  const handleAddSkeletonFile = (maxFiles) => {\r\n    if (skeletons.length < maxFiles) {\r\n      setSkeletons((skeletons) => [...skeletons, 0])\r\n    }\r\n  }\r\n\r\n  const onCreateFolder = () => {\r\n    handleClose()\r\n\r\n    let formData = new FormData()\r\n    formData.append(\"project_id\", props.project_id)\r\n    formData.append(\"folder_id\", props.folder.folder_id)\r\n\r\n    axios.post(\"/api/file_system/folder\", formData).then(() => {\r\n      props.rerender()\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  const onDeleteFolder = (folder_id) => {\r\n    let formData = new FormData()\r\n    formData.append(\"type\", \"folder\")\r\n    formData.append (\"folder_id\", props.folder.folder_id)\r\n\r\n    axios.post(\"/api/file_system/delete/\" + folder_id, formData).then(() => {\r\n      props.rerender()\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n    handleClose()\r\n  };\r\n\r\n  const handleFolderSelect = (folder_id) => {\r\n    if (folder_id === null) {\r\n      setSelected(null)\r\n    } else {\r\n      setSelected(null)\r\n      props.folder.folders.forEach((childFolder) => {\r\n        if (childFolder.folder_id === folder_id) {\r\n          setSelected(childFolder)\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const onAddAuth = () => {\r\n    let formData = new FormData()\r\n    formData.append(\"new_auth\", 1)\r\n\r\n    axios.post(\"/api/file_system/auth/\" + selected.folder_id, formData).then(() => {\r\n      props.rerender()\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n  \r\n  const handleDragStart = (child_id) => {\r\n    setListenForDrag(child_id)\r\n  }\r\n\r\n  const handleDragStop = () => {\r\n    setListenForDrag(false)\r\n  }\r\n\r\n  const handleClick = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (event !== undefined) {\r\n      if (event.target.id !== \"folder-element\" && event.target.parentNode.id !== \"folder-element\" && event.target.id !== \"file-element\" && event.target.parentNode.id !== \"file-element\") {\r\n        setState({\r\n          mouseX: event.clientX - 2,\r\n          mouseY: event.clientY - 4,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setState(initialState);\r\n  }\r\n\r\n  const renderFiles = () => {\r\n    return props.folder.files.map((file, i) => {\r\n        if (props.folder.files.length === i + 1){\r\n          return (\r\n            <div \r\n              key={i}\r\n              data-testid='component-file'\r\n            >\r\n              <File\r\n                selected={selectedFile}\r\n                selectFile={selectFile}\r\n                type=\"normal\"\r\n                key={i} \r\n                fileIndex={i} \r\n                fileType={file.file_type} \r\n                fileName={file.file_name} \r\n                file_id={file.file_id} \r\n                updateParent={onDeleteFile}\r\n                folder_id={props.folder.folder_id}\r\n                onDragStart={handleDragStart}\r\n                onDragStop={handleDragStop}\r\n              />\r\n            </div>\r\n          )\r\n        } else {\r\n          return (\r\n            <div key={i}>\r\n              <div \r\n                data-testid='component-file'\r\n                key={i}\r\n              >\r\n                <File \r\n                  type=\"normal\"\r\n                  selected={selectedFile}\r\n                  selectFile={selectFile}\r\n                  fileIndex={i}\r\n                  fileType={file.file_type} \r\n                  fileName={file.file_name} \r\n                  file_id={file.file_id} \r\n                  updateParent={onDeleteFile}\r\n                  folder_id={props.folder.folder_id}  \r\n                  onDragStart={handleDragStart}\r\n                  onDragStop={handleDragStop}\r\n                />\r\n              </div>\r\n              <Divider light key={\"divider\"+i}/>\r\n            </div>\r\n          )\r\n        }\r\n    })\r\n  }\r\n\r\n  const onColorChange = (color) => {\r\n    let formData = new FormData()\r\n    formData.append(\"color\", color)\r\n\r\n    axios.post(\"/api/file_system/color/\" + selected.folder_id, formData).then(() => {\r\n      props.rerender()\r\n      setSelected(null)\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  const handleEnterFolder = (folder_id, authorisation_level) => {\r\n    setSelected(null)\r\n\r\n    let folder_name\r\n\r\n    props.folder.folders.forEach((childFolder) => {\r\n      if (childFolder.folder_id === folder_id) {\r\n        folder_name = childFolder.folder_name\r\n      }\r\n    })\r\n\r\n    props.handleEnterFolder(folder_id, folder_name, authorisation_level)\r\n  }\r\n\r\n  const renderFolders = () => {\r\n    return props.folder.folders.map((folder, i) => {\r\n      return (\r\n        <Grid\r\n          item\r\n          key={i}\r\n        >\r\n          <FolderComponent\r\n            listenForDrag={listenForDrag}\r\n            onAddAuth={onAddAuth}\r\n            onColorChange={onColorChange}\r\n            onDragStart={handleDragStart}\r\n            onDragStop={handleDragStop}\r\n            folder_name={folder.folder_name}\r\n            authorisation_level={folder.authorisation_level}\r\n            handleEnterFolder={handleEnterFolder}\r\n            folder_id={folder.folder_id}\r\n            folderColor={folder.folder_color}\r\n            onDelete={onDeleteFolder}\r\n            rerender={props.rerender}\r\n            selectFolder={handleFolderSelect}\r\n            selectedFolder={selected}\r\n            selected={selected === null ? false : selected.folder_id === folder.folder_id}\r\n          />\r\n        </Grid>\r\n      )\r\n    })\r\n  }\r\n\r\n  return (\r\n\r\n    <React.Fragment>\r\n      <FileSystemMenu \r\n        onClickUpload={handleOpen} \r\n        onCreateFolder={onCreateFolder}\r\n        onAddAuth={onAddAuth}\r\n        selectedFolder={selected}\r\n        onColorChange={onColorChange}\r\n      />\r\n      <Breadcrumbs \r\n        ancestry={props.ancestry}\r\n        onReturn={props.onReturn}\r\n        listenForDrag={listenForDrag}\r\n        rerender={props.rerender}\r\n      />\r\n      <Card \r\n        className={classes.root}\r\n        square\r\n        elevation={0}\r\n        onContextMenu={handleClick}\r\n      >\r\n\r\n        <Grid \r\n          className={classes.folderContainer}\r\n          container\r\n          direction=\"row\"\r\n          spacing={6}\r\n        >\r\n          {renderFolders()}\r\n        </Grid>\r\n\r\n        <div className={classes.fileContainer}>\r\n          {skeletons.map((skeleton, i) => \r\n            <File\r\n              type=\"skeleton\"\r\n              key={i}\r\n            />\r\n          )}\r\n          {renderFiles()}\r\n        </div>\r\n\r\n      </Card>\r\n      <Modal\r\n        data-test=\"component-fileUpload\"\r\n        open={open}\r\n        onClose={() => setOpen(false)}\r\n        disableScrollLock\r\n      >\r\n        <div>\r\n          <FileUpload \r\n            updateParent={onAddFile}\r\n            onFileUploaded={handleFileUploaded}\r\n            addSkeleton={handleAddSkeletonFile}\r\n            credentialType=\"project_id\"\r\n            credential={props.project_id}\r\n            folder_id={props.folder.folder_id}\r\n            maxFiles={5}\r\n            endpoint=\"/file_system/file\"  \r\n          />\r\n        </div>\r\n      </Modal>\r\n      <Menu\r\n        keepMounted\r\n        disableScrollLock\r\n        open={state.mouseY !== null}\r\n        onClose={handleClose}\r\n        anchorReference=\"anchorPosition\"\r\n        anchorPosition={\r\n          state.mouseY !== null && state.mouseX !== null\r\n            ? { top: state.mouseY, left: state.mouseX }\r\n            : undefined\r\n        }\r\n      >\r\n        <MenuItem \r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\"\r\n          }}\r\n          onClick={handleOpen}\r\n        >\r\n          <Description style={{ marginRight: 10 }}/>\r\n          Add file\r\n        </MenuItem>\r\n        <MenuItem \r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            alignItems: \"center\"\r\n          }}\r\n          onClick={onCreateFolder}\r\n        >\r\n          <Folder style={{ marginRight: 10 }}/>\r\n          Add folder\r\n        </MenuItem>\r\n      </Menu>\r\n    </React.Fragment>\r\n  \r\n  )\r\n\r\n}\r\n\r\nexport default FolderPage","import React, { useState, useEffect } from \"react\";\r\nimport FolderPage from \"./folderPage\"\r\nimport axios from \"axios\"\r\n\r\nvar jwt = require(\"jsonwebtoken\")\r\n\r\nconst FileSystem = (props) => {\r\n  const [folder, setFolder] = useState()\r\n  const [ancestry, setAncestry] = useState(null)\r\n\r\n  useEffect(() => {getProjectFiles(props.project_id); return () => setFolder([])}, [])\r\n\r\n  const rerender = () => {\r\n    getProjectFiles(props.project_id)\r\n  }\r\n\r\n  const handleEnterFolder = (folder_id, folder_name, authorisation_level) => {\r\n    const encrypted = window.localStorage.getItem(\"authToken\")\r\n    const token = jwt.decode(JSON.parse(encrypted))\r\n\r\n    if (token.authLevel >= authorisation_level){\r\n      setAncestry([...ancestry, {\r\n        folder_id: folder_id,\r\n        folder_name: folder_name\r\n      }])\r\n      rerender()\r\n    }\r\n  }\r\n\r\n  const getFolderRendered = () => {\r\n    let targetFolder = folder\r\n\r\n    if (ancestry.length === 1) {\r\n      return folder\r\n    } else {\r\n      ancestry.forEach((folderId) => {\r\n        targetFolder.folders.forEach((childFolder) => {\r\n          if (childFolder.folder_id === folderId.folder_id) {\r\n            targetFolder = childFolder\r\n          }\r\n        })\r\n      })\r\n      return targetFolder\r\n    }\r\n  }\r\n\r\n  const handleReturn = (value) => {\r\n    let destination\r\n\r\n    ancestry.forEach((folder, i) => {\r\n      if (folder.folder_id === value){\r\n        destination = i + 1\r\n      }\r\n    })\r\n\r\n    setAncestry([...ancestry].slice(0, destination))\r\n  }\r\n\r\n  const getProjectFiles = async (project_id) => {\r\n\r\n    const url = \"/api/file_system/\" + project_id\r\n    await axios.get(url).then((results) => {\r\n      if (results.status === 200) {\r\n        setFolder(results.data)\r\n        if (ancestry === null) {\r\n          setAncestry([{\r\n            folder_id: results.data.folder_id,\r\n            folder_name: results.data.folder_name\r\n          }])\r\n        }\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        height: \"calc(100% - 87)\"\r\n      }}\r\n    >\r\n      {folder !== undefined && ancestry !== null ? <FolderPage \r\n        onReturn={handleReturn}\r\n        ancestry={ancestry}\r\n        folder={getFolderRendered()} \r\n        rerender={rerender}\r\n        handleEnterFolder={handleEnterFolder}\r\n        project_id={props.project_id}\r\n      /> : null}\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default FileSystem;","import React, { useState, useEffect } from \"react\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from \"@material-ui/core/card\"\r\nimport CardMedia from \"@material-ui/core/CardMedia\"\r\nimport CardContent from \"@material-ui/core/CardContent\"\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport Modal from \"@material-ui/core/Modal\"\r\nimport Typography from \"@material-ui/core/Typography\"\r\nimport Paper from \"@material-ui/core/paper\"\r\nimport ImageOutlinedIcon from '@material-ui/icons/ImageOutlined';\r\nimport FileUpload from \"../complex/fileUpload\"\r\nimport Button from \"../basics/button\"\r\nimport axios from \"axios\"\r\n\r\nconst SelectThumbnail = (props) => {\r\n  const [thumbnail, setThumbnail] = useState(\"\")\r\n  const [open, setOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const arrayBufferToBase64 = (buffer) => {\r\n      var binary = '';\r\n      var bytes = [].slice.call(new Uint8Array(buffer));\r\n      bytes.forEach((b) => binary += String.fromCharCode(b));\r\n      return window.btoa(binary);\r\n    };\r\n\r\n    axios.get(\"/api/thumbnails/\" + props.project_id).then((data) => {\r\n      const base64Flag = 'data:image/png;base64,'\r\n      const imageStr = arrayBufferToBase64(data.data.data.data)\r\n      const image = (base64Flag + imageStr).toString()\r\n\r\n      setThumbnail(image)\r\n    })\r\n    .catch((error) => {\r\n      if (error.response.data === \"No thumbnail\"){\r\n        setThumbnail(null)\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: theme.palette.type === \"dark\" ? theme.palette.secondary.light : null,\r\n      height: 150,\r\n      width: 350,\r\n      overflow: 'visible',\r\n      display: 'flex',\r\n      boxShadow: theme.palette.type === \"dark\" ? 0 : '0px 6px 15px rgba(34, 35, 58, 0.2)',\r\n    },\r\n    thumbnail: {\r\n      width: 200,\r\n      height: 150,\r\n      marginTop: theme.spacing(-4),\r\n      borderRadius: theme.spacing(1),\r\n      marginLeft: theme.spacing(4),\r\n      boxShadow: theme.palette.type === \"dark\" ? 0 : '0px 6px 15px rgba(34, 35, 58, 0.2)',\r\n    },\r\n    uploadButton: {\r\n      height: 20,\r\n      marginTop: 17,\r\n    },\r\n    content: {\r\n      width: 110,\r\n    },\r\n    placeholder: {\r\n      width: 200,\r\n      height: 150,\r\n      marginTop: theme.spacing(-4),\r\n      borderRadius: theme.spacing(1),\r\n      marginLeft: theme.spacing(4),\r\n      boxShadow: theme.palette.type === \"dark\" ? 0 : '0px 6px 15px rgba(34, 35, 58, 0.2)',\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      background: theme.palette.secondary.main\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const onAddFile = () => {\r\n    window.location.reload(false);\r\n  }\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const renderMedia = () => {\r\n    if (thumbnail === null) {\r\n      return (\r\n        <Paper\r\n          className={classes.placeholder}\r\n        >\r\n          <ImageOutlinedIcon style={{ fontSize: 70 }}/>\r\n        </Paper>\r\n      )\r\n    } else {\r\n      return (\r\n        <CardMedia\r\n          component=\"img\"\r\n          image={thumbnail}\r\n          className={classes.thumbnail}/>\r\n      )\r\n    }\r\n  }\r\n\r\n  return (\r\n\r\n      <Card\r\n        className={classes.root}\r\n      >\r\n        {renderMedia()}\r\n        <CardContent className={classes.content}>\r\n          <Grid\r\n            container\r\n            direction=\"column\"\r\n            alignItems=\"flex-end\"\r\n          >\r\n            <Grid item>\r\n              <Typography variant=\"h6\" className={classes.text}>\r\n                Project\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item>\r\n              <Typography variant=\"h6\" className={classes.text}>\r\n                Thumbnail\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item>\r\n              <div className={classes.uploadButton}>\r\n                {props.mode === \"admin\" ? <Button \r\n                  type=\"normal\" \r\n                  variant=\"contained\" buttonText=\"Upload\" \r\n                  color=\"primary\" \r\n                  onClick={handleOpen}\r\n                /> : null}\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n        <Modal\r\n          disableScrollLock\r\n          data-test=\"component-fileUpload\"\r\n          open={open}\r\n          onClose={handleClose}\r\n        >\r\n          <div>\r\n            <FileUpload \r\n              updateParent={onAddFile}\r\n              credentialType=\"project_id\"\r\n              credential={props.project_id} \r\n              maxFiles={1}\r\n              endpoint=\"/thumbnails/update\"  \r\n            />\r\n          </div>\r\n        </Modal>\r\n      </Card>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default SelectThumbnail","import React, { useState, useEffect, useRef } from \"react\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from \"@material-ui/core/card\"\r\nimport Paper from \"@material-ui/core/paper\"\r\nimport InputBase from \"@material-ui/core/InputBase\"\r\nimport Button from \"../basics/button\"\r\nimport axios from \"axios\"\r\n\r\nconst ProjectName = (props) => {\r\n  const [projectName, setProjectName] = useState(\"\")\r\n  const [active, setActive] = useState(false)\r\n\r\n  const inputRef = React.useRef(null);\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/api/projects/\" + props.project_id).then((results) => {\r\n      setProjectName(results.data[0].project_name)\r\n    })\r\n  }, [])\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: theme.palette.type === \"dark\" ? theme.palette.secondary.light : null,\r\n      height: 150,\r\n      width: 400,\r\n      display: 'flex',\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      boxShadow: theme.palette.type === \"dark\" ? 0 : '0px 6px 15px rgba(34, 35, 58, 0.2)',\r\n    },\r\n    inputPaper: {\r\n      width: 300,\r\n      height: 50,\r\n      backgroundColor: theme.palette.type === \"dark\" ? null : theme.palette.secondary.light,\r\n      padding: 10,\r\n    },\r\n    input: {\r\n      height: 50,\r\n      fontSize: 20,\r\n      width: 242\r\n    },\r\n    inputText: {\r\n      '&:disabled': {\r\n        color: theme.palette.secondary.contrastText\r\n      }\r\n    }\r\n  }))\r\n  const classes = useStyles()\r\n\r\n  const onChange = (event) => {\r\n    setProjectName(event.target.value)\r\n  }\r\n\r\n  const onClick = () => {\r\n    if (!active) {\r\n      setTimeout(() => {\r\n        inputRef.current.focus();\r\n      }, 100)\r\n      setActive(true)\r\n    } else {\r\n      setActive(false)\r\n    }\r\n  }\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault()\r\n    setActive(false)\r\n\r\n    axios.get(\"/api/projects/\" + props.project_id).then((results, error) => {\r\n      if (error) {\r\n        console.log(error.response)\r\n      } else {\r\n\r\n        axios.post(\"/api/projects/\" + props.project_id, {\r\n          project_name: projectName,\r\n          is_public: results.data[0].is_public\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n\r\n    <Card\r\n      className={classes.root}\r\n    >\r\n      <Paper\r\n        component=\"form\"\r\n        onSubmit={onSubmit}\r\n        square\r\n        elevation={0}\r\n        className={classes.inputPaper}\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\"\r\n        }}\r\n      >\r\n        <InputBase\r\n          inputRef={inputRef}\r\n          disabled={!active}\r\n          value={projectName}\r\n          className={classes.input}\r\n          inputProps={{ style: {textAlign: 'center'}, className: classes.inputText }}\r\n          onChange={onChange}\r\n        />\r\n        <div style={{\r\n          width: props.mode === \"admin\" ? 48 : 0\r\n        }}>\r\n          {props.mode === \"admin\" ? <Button\r\n            type=\"icon\"\r\n            icon=\"Edit\"\r\n            variant=\"contained\"\r\n            onClick={onClick}\r\n          /> : null}\r\n        </div>\r\n      </Paper>\r\n    </Card>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default ProjectName","import React, { useState } from \"react\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport MaterialSlider from '@material-ui/core/Slider';\r\nimport Typography from \"@material-ui/core/Typography\"\r\n\r\nconst Slider = (props) => {\r\n  const [value, setValue] = useState(props.default)\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: 300,\r\n    },\r\n    slider: {\r\n      marginLeft: 10,\r\n      '&.Mui-disabled': {\r\n        color: theme.palette.primary.main\r\n      }\r\n    },\r\n    text: {\r\n      marginLeft: 6,\r\n      fontSize: 16,\r\n    }\r\n  }));\r\n  const classes = useStyles()\r\n\r\n  const returnMarks = () => {\r\n    let marks = []\r\n    for (let i=0; i<9; i++) {\r\n      marks = [...marks, {\r\n        value: i + 1,\r\n        label: (i + 1).toString()\r\n      }]\r\n    }\r\n\r\n    return marks\r\n  }\r\n\r\n  const onChangeCommitted = (event, value) => {\r\n    props.onChange(props.setting, value)\r\n  }\r\n\r\n  const onChange = (event, value) => {\r\n    setValue(value)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Typography variant=\"body2\" className={classes.text}>\r\n        {props.title}\r\n      </Typography>\r\n      <MaterialSlider\r\n        className={classes.slider}\r\n        onChangeCommitted={onChangeCommitted}\r\n        onChange={onChange}\r\n        value={value}\r\n        step={1}\r\n        marks={returnMarks()}\r\n        min={1}\r\n        max={9}\r\n        disabled={props.disabled}\r\n      />\r\n    </div>\r\n  )\r\n  \r\n}\r\n\r\nexport default Slider","import React, { useState, useEffect } from \"react\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from \"@material-ui/core/card\"\r\nimport Typography from \"@material-ui/core/Typography\"\r\nimport Slider from '../basics/slider';\r\nimport axios from \"axios\"\r\n\r\nimport { connect } from \"react-redux\"\r\nimport { changeSettingsAuth, editFilesAuth } from \"../../actions\"\r\n\r\nvar jwt = require(\"jsonwebtoken\")\r\n\r\nconst AuthSliders = (props) => {\r\n  const [mode, setMode] = useState(\"view\")\r\n\r\n  useEffect(() => {\r\n    const encrypted = window.localStorage.getItem(\"authToken\")\r\n    const token = jwt.decode(JSON.parse(encrypted))\r\n\r\n    if (token.authLevel === 9) {\r\n      setMode(\"admin\")\r\n    }\r\n  }, [])\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: theme.palette.type === \"dark\" ? theme.palette.secondary.light : null,\r\n      height: 200,\r\n      width: 400,\r\n      padding: 15,\r\n      display: 'flex',\r\n      flexDirection: \"column\",\r\n      justifyContent: \"center\",\r\n      boxShadow: theme.palette.type === \"dark\" ? 0 : '0px 6px 15px rgba(34, 35, 58, 0.2)',\r\n    },\r\n    title: {\r\n      marginLeft: 5,\r\n      marginBottom: 10,\r\n    }\r\n  }));\r\n  const classes = useStyles()\r\n\r\n  const updateSetting = (setting, newValue) => {\r\n    let formData = new FormData()\r\n    formData.append(\"setting_name\", setting)\r\n    formData.append(\"new_value\", newValue)\r\n\r\n    axios.post(\"/api/project_settings/\" + props.project_id, formData)\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  const onSliderChange = (setting, value) => {\r\n    switch (setting) {\r\n      case \"changeSettingsAuth\":\r\n        updateSetting(setting, value)\r\n        props.changeSettingsAuth(value)\r\n        return\r\n      case \"editFilesAuth\":\r\n        updateSetting(setting, value)\r\n        props.editFilesAuth(value)\r\n        return\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card \r\n      className={classes.root}\r\n    >\r\n      <Typography variant=\"h6\" className={classes.title}>\r\n        Authorisation level needed to:\r\n      </Typography>\r\n      <Slider\r\n        title=\"Change project settings\"\r\n        onChange={onSliderChange} setting=\"changeSettingsAuth\"\r\n        default={props.projectSettings.changeSettingsAuth} \r\n        disabled={mode === \"view\"}\r\n      />\r\n      <Slider\r\n        title=\"Edit file system\"\r\n        onChange={onSliderChange}\r\n        setting=\"editFilesAuth\"\r\n        default={props.projectSettings.editFilesAuth} \r\n        disabled={mode === \"view\"}\r\n      />\r\n    </Card>\r\n  )\r\n  \r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { projectSettings: state.projectSettings }\r\n}\r\n\r\nexport default connect(mapStateToProps, { changeSettingsAuth, editFilesAuth })(AuthSliders)","import React, { useState } from \"react\"\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport Card from \"@material-ui/core/card\"\r\nimport Grid from \"@material-ui/core/grid\"\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Button from \"./button\"\r\nimport Modal from \"@material-ui/core/modal\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\"\r\n\r\nvar jwt = require(\"jsonwebtoken\")\r\n\r\nconst DeleteProject = (props) => {\r\n  const [isError, setIsError] = useState(false)\r\n  const [confirmOpen, setConfirmOpen] = useState(false)\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: theme.palette.type === \"dark\" ? theme.palette.secondary.light : null,\r\n      height: 150,\r\n      width: 350,\r\n      display: 'flex',\r\n      boxShadow: theme.palette.type === \"dark\" ? 0 : '0px 6px 15px rgba(34, 35, 58, 0.2)',\r\n    },\r\n    confirm: {\r\n      width: 200,\r\n      height: 150,\r\n      position: \"absolute\",\r\n      top: \"50%\",\r\n      left: \"50%\",\r\n      marginTop: \"-75px\",\r\n      marginLeft: \"-100px\",\r\n    }\r\n  }))\r\n  const classes = useStyles()\r\n  const history = useHistory();\r\n\r\n  const handleDelete = () => {\r\n    const encrypted = window.localStorage.getItem(\"authToken\")\r\n    const token = jwt.decode(JSON.parse(encrypted))\r\n\r\n    if (token.authLevel === 9) {\r\n      setConfirmOpen(true)\r\n    } else {\r\n      setIsError(\"Must be authorisation level 9\")\r\n    }\r\n  }\r\n\r\n  const handleFullDelete = () => {\r\n    setLoading(true)\r\n    axios.delete(\"/api/projects/\" + props.project_id).then(() => {\r\n      setLoading(false)\r\n      history.goBack()\r\n    })\r\n    .catch((error) => {\r\n      setLoading(false)\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  return (\r\n\r\n    <div>\r\n      <Card\r\n        className={classes.root}\r\n      >\r\n        <Grid\r\n          container\r\n          direction=\"column\"\r\n          justify=\"center\"\r\n          alignItems=\"center\"\r\n          spacing={4}\r\n        >\r\n          <Grid\r\n            item\r\n          >\r\n            <div\r\n              style={{ fontSize: 20, fontWeight: \"bold\" }}\r\n            >\r\n              Delete Project\r\n            </div>\r\n          </Grid>\r\n          <Grid\r\n            item\r\n          >\r\n            <Button\r\n              type=\"normal\"\r\n              variant=\"contained\"\r\n              buttonText=\"Delete\"\r\n              color=\"primary\"\r\n              onClick={handleDelete}\r\n            />\r\n          </Grid>\r\n          <Grid\r\n            item\r\n          >\r\n            <div>\r\n              {isError ? isError : \"This action cannot be undone\"}\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </Card>\r\n      <Modal\r\n        open={confirmOpen}\r\n        onClose={() => setConfirmOpen(false)}\r\n      >\r\n        <div>\r\n          <Card\r\n            className={classes.confirm}\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\"\r\n            }}\r\n          >\r\n            <Grid\r\n              container\r\n              direction=\"column\"\r\n              justify=\"center\"\r\n              alignItems=\"center\"\r\n              spacing={4}\r\n            >\r\n              <Grid\r\n                item\r\n              >\r\n                <div\r\n                  style={{ fontSize: 15, fontWeight: \"bold\" }}\r\n                >\r\n                  This action is permanent\r\n                </div>\r\n              </Grid>\r\n              <Grid\r\n                item\r\n              >\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    flexDirection: \"row\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                    marginLeft: loading ? 40 : 0\r\n                  }}\r\n                >\r\n                  <Button\r\n                    type=\"normal\"\r\n                    variant=\"contained\"\r\n                    buttonText=\"Delete\"\r\n                    color=\"primary\"\r\n                    onClick={handleFullDelete}\r\n                  />\r\n                  {loading ? \r\n                    <CircularProgress \r\n                      color=\"primary\"\r\n                      size={20}\r\n                      style={{\r\n                        marginLeft: 10\r\n                      }}\r\n                    /> : null}\r\n                </div>\r\n              </Grid>\r\n            </Grid>\r\n          </Card>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default DeleteProject","import React, { useState } from \"react\"\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport Card from \"@material-ui/core/card\"\r\nimport Grid from \"@material-ui/core/grid\"\r\nimport Button from \"./button\"\r\nimport Modal from \"@material-ui/core/modal\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\"\r\n\r\nconst LeaveProject = (props) => {\r\n  const [confirmOpen, setConfirmOpen] = useState(false)\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: theme.palette.type === \"dark\" ? theme.palette.secondary.light : null,\r\n      height: 150,\r\n      width: 300,\r\n      display: 'flex',\r\n      boxShadow: theme.palette.type === \"dark\" ? 0 : '0px 6px 15px rgba(34, 35, 58, 0.2)',\r\n    },\r\n    confirm: {\r\n      width: 200,\r\n      height: 150,\r\n      position: \"absolute\",\r\n      top: \"50%\",\r\n      left: \"50%\",\r\n      marginTop: \"-75px\",\r\n      marginLeft: \"-100px\",\r\n    }\r\n  }))\r\n  const classes = useStyles()\r\n  const history = useHistory();\r\n\r\n  const handleLeave = () => {\r\n    let formData = new FormData()\r\n    formData.append(\"project_id\", props.project_id)\r\n\r\n    axios.post(\"/api/roles/delete/\" + props.role_id, formData).then(() => {\r\n      history.goBack()\r\n      setConfirmOpen(false)\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n      setConfirmOpen(false)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Card\r\n        className={classes.root}\r\n      >\r\n        <Grid\r\n          container\r\n          direction=\"column\"\r\n          justify=\"center\"\r\n          alignItems=\"center\"\r\n          spacing={4}\r\n        >\r\n          <Grid\r\n            item\r\n          >\r\n            <div\r\n              style={{ fontSize: 20, fontWeight: \"bold\" }}\r\n            >\r\n              Leave Project\r\n            </div>\r\n          </Grid>\r\n          <Grid\r\n            item\r\n          >\r\n            <Button\r\n              type=\"normal\"\r\n              variant=\"contained\"\r\n              buttonText=\"Leave project\"\r\n              color=\"primary\"\r\n              onClick={() => setConfirmOpen(true)}\r\n            />\r\n          </Grid>\r\n          <Grid\r\n            item\r\n          >\r\n            <div>\r\n              This action cannot be undone\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </Card>\r\n      <Modal\r\n        open={confirmOpen}\r\n        disableScrollLock\r\n        onClose={() => setConfirmOpen(false)}\r\n      >\r\n        <div>\r\n          <Card\r\n            className={classes.confirm}\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\"\r\n            }}\r\n          >\r\n            <Grid\r\n              container\r\n              direction=\"column\"\r\n              justify=\"center\"\r\n              alignItems=\"center\"\r\n              spacing={4}\r\n            >\r\n              <Grid\r\n                item\r\n              >\r\n                <div\r\n                  style={{ fontSize: 15, fontWeight: \"bold\" }}\r\n                >\r\n                  This action is permanent\r\n                </div>\r\n              </Grid>\r\n              <Grid\r\n                item\r\n              >\r\n                <Button\r\n                  type=\"normal\"\r\n                  variant=\"contained\"\r\n                  buttonText=\"Leave project\"\r\n                  color=\"primary\"\r\n                  onClick={handleLeave}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </Card>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n\r\nexport default LeaveProject","import React, { useState, useEffect } from \"react\"\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport SelectThumbnail from \"../basics/selectThumbnail\"\r\nimport ProjectName from \"../basics/projectName\"\r\nimport AuthSliders from \"./authSliders\"\r\nimport DeleteProject from \"../basics/deleteProject\"\r\nimport LeaveProject from \"../basics/leaveProject\"\r\nimport Grid from \"@material-ui/core/grid\"\r\n\r\nimport { connect } from \"react-redux\"\r\nimport { changeSettingsAuth } from \"../../actions\"\r\n\r\nvar jwt = require(\"jsonwebtoken\")\r\n\r\nconst ProjectSettings = (props) => {\r\n  const [mode, setMode] = useState(\"view\")\r\n  const [roleId, setRoleId] = useState()\r\n\r\n  useEffect(() => {\r\n    const encrypted = window.localStorage.getItem(\"authToken\")\r\n    const token = jwt.decode(JSON.parse(encrypted))\r\n\r\n    if (token.authLevel >= props.projectSettings.changeSettingsAuth) {\r\n      setMode(\"admin\")\r\n      setRoleId(token.role_id)\r\n    }\r\n  }, [])\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    grid: {\r\n      flexGrow: 1,\r\n      width: \"100%\",\r\n      paddingTop: 48\r\n    }\r\n  }))\r\n  const classes = useStyles()\r\n\r\n  return (\r\n\r\n      <Grid \r\n        container\r\n        spacing={8}\r\n        className={classes.grid}\r\n        style={{ marginLeft: 50, width: \"calc(100% - 50px)\" }}\r\n      >\r\n        <Grid item>\r\n          <SelectThumbnail \r\n            project_id={props.project_id}\r\n            mode={mode}\r\n          />\r\n        </Grid>\r\n        <Grid item>\r\n          <ProjectName \r\n            project_id={props.project_id}\r\n            mode={mode}\r\n          />\r\n        </Grid>\r\n        <Grid item>\r\n          <DeleteProject \r\n            project_id={props.project_id}\r\n          />\r\n        </Grid>\r\n        <Grid item>\r\n          <LeaveProject project_id={props.project_id} role_id={roleId}/>\r\n        </Grid>\r\n        <Grid item>\r\n          <AuthSliders project_id={props.project_id}/>\r\n        </Grid>\r\n      </Grid>\r\n    \r\n  )\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { projectSettings: state.projectSettings }\r\n}\r\n\r\nexport default connect(mapStateToProps, { changeSettingsAuth })(ProjectSettings)","import React, { useState } from \"react\"\r\nimport Tab from \"@material-ui/core/tab\"\r\nimport Tabs from \"@material-ui/core/tabs\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport { connect } from \"react-redux\"\r\n\r\nconst ProjectMenu = (props) => {\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: \"inline-flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue)\r\n    props.changePage(newValue)\r\n  }\r\n\r\n  const tabProps = (index) => {\r\n    return {\r\n      id: `scrollable-auto-tab-${index}`,\r\n      'aria-controls': `scrollable-auto-tabpanel-${index}`,\r\n    };\r\n  }\r\n\r\n  return (\r\n\r\n    <div className={classes.root}>\r\n      <Tabs\r\n        value={value}\r\n        onChange={handleChange}\r\n        indicatorColor=\"primary\"\r\n        textColor=\"primary\"\r\n        variant=\"scrollable\"\r\n        scrollButtons=\"auto\"\r\n      >\r\n        <Tab label=\"Files\" {...tabProps(0)} />\r\n        <Tab label=\"Team\" {...tabProps(1)} />\r\n        <Tab label=\"Settings\" {...tabProps(2)} />\r\n      </Tabs>\r\n    </div>\r\n\r\n  )\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { projectSettings: state.projectSettings }\r\n}\r\n\r\nexport default connect(mapStateToProps, {})(ProjectMenu)","import React, { useState, useEffect } from \"react\"\r\nimport Team from \"../complex/team\"\r\nimport Roadmap from \"../complex/roadmap\"\r\nimport FileSystem from \"../complex/fileSystem\"\r\nimport ProjectSettings from \"../complex/projectSettings\"\r\nimport Sidebar from \"../complex/sidebar\"\r\nimport Paper from \"@material-ui/core/paper\"\r\nimport ProjectMenu from \"../basics/projectMenu\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Button from \"../basics/button\"\r\nimport socketIOClient from \"socket.io-client\";\r\nimport axios from \"axios\"\r\n\r\nimport { connect } from \"react-redux\"\r\nimport { changeSettingsAuth, editFilesAuth } from \"../../actions\"\r\n\r\nvar jwt = require(\"jsonwebtoken\")\r\n\r\nconst ProjectPage = (props) => {\r\n  const [permanentSidebar, setPermanentSidebar] = useState(window.innerWidth > 1000 ? true : false)\r\n  const [page, setPage] = useState(0)\r\n  const [project_id] = useState(parseInt(props.match.params.project_id))\r\n  const [notificationOpen, setNotificationOpen] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const socket = socketIOClient(\"http://localhost:3001\");\r\n    socket.on(\"PROJECT_INVITE\", (data) => {\r\n      if (window.localStorage.getItem(\"authToken\")) {\r\n        const encrypted = window.localStorage.getItem(\"authToken\")\r\n        const token = jwt.decode(JSON.parse(encrypted))\r\n\r\n        console.log(\"Someone invited\")\r\n\r\n        if (parseInt(token.user_id) === parseInt(data)) {\r\n          setNotificationOpen(true)\r\n        }\r\n      }\r\n    });\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const token = window.localStorage.getItem(\"authToken\")\r\n    const formData = new FormData()\r\n    formData.append(\"token\", token)\r\n    formData.append(\"project_id\", project_id)\r\n\r\n    axios.post(\"/api/auth/authlevel\", formData).then((response) => {\r\n      const authToken = JSON.stringify(response.headers[\"x-auth-token\"])\r\n\r\n      window.localStorage.setItem(\"authToken\", authToken)\r\n\r\n      axios.get(\"/api/project_settings/\" + project_id).then((response) => {\r\n        props.changeSettingsAuth(response.data.rows[0].change_settings_auth)\r\n        props.editFilesAuth(response.data.rows[0].edit_files_auth)\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n      })\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n  }, [])\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    '@global': {\r\n      '*::-webkit-scrollbar': {\r\n        width: 16,\r\n        backgroundColor: theme.palette.background.default,\r\n      },\r\n      '*::-webkit-scrollbar-thumb': {\r\n        backgroundColor: theme.palette.secondary.main,\r\n        width: 6,\r\n        border: \"4px solid rgba(0, 0, 0, 0)\",\r\n        backgroundClip: \"padding-box\",\r\n        borderRadius: 10\r\n      }\r\n    },\r\n    page: {\r\n      marginLeft: permanentSidebar ? 250 : 0,\r\n      height: \"calc(100% - 52px)\"\r\n    },\r\n    background:{\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n      width: \"100%\",\r\n      height: page === 0 ? \"calc(100% + 10px)\" : \"100%\"\r\n    },\r\n    title: {\r\n      marginLeft: permanentSidebar ? 250 : 0,\r\n      width: window.innerWidth - 96,\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    },\r\n    notification: {\r\n      backgroundColor: theme.palette.secondary.light,\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      alignItems: \"center\",\r\n      padding: '0px 5px 0px 10px',\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const onResize = () => {\r\n    if (window.innerWidth <= 1000){\r\n      setPermanentSidebar(false)\r\n    } else if (window.innerWidth > 1000) {\r\n      setPermanentSidebar(true)\r\n    }\r\n  }\r\n\r\n  const changePage = (page) => {\r\n    setPage(page)\r\n  }\r\n\r\n  const renderPages = () => {\r\n    switch (page) {\r\n      case 0: \r\n        return <FileSystem project_id={project_id}/>\r\n      case 1: \r\n        return <Team project_id={project_id} setNotificationOpen={setNotificationOpen}/>\r\n      case 2: \r\n        return <ProjectSettings project_id={project_id}/>\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Paper square className={classes.background}>\r\n      <div style={{\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n      }}>\r\n        <Sidebar onResize={onResize}/>\r\n        <div className={classes.title}>\r\n          <ProjectMenu changePage={changePage}/>\r\n        </div>\r\n      </div>\r\n      <div className={classes.page}>\r\n        {renderPages()}\r\n      </div>\r\n      <Snackbar\r\n        className={classes.snackbar}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'center',\r\n        }}\r\n        open={notificationOpen}\r\n        autoHideDuration={3000}\r\n        onClose={() => setNotificationOpen(false)}\r\n      >\r\n        <Paper\r\n          className={classes.notification}\r\n        >\r\n          <div\r\n            style={{\r\n              fontSize: 15,\r\n              marginRight: 15\r\n            }}\r\n          >\r\n            New project invite!\r\n          </div>\r\n          <Button\r\n            type=\"icon\"\r\n            icon=\"Close\"\r\n            onClick={() => setNotificationOpen(false)}\r\n          />\r\n        </Paper>\r\n      </Snackbar>\r\n    </Paper> \r\n  )\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { projectSettings: state.projectSettings }\r\n}\r\n\r\nexport default connect(mapStateToProps, { changeSettingsAuth , editFilesAuth })(ProjectPage)","import React, {useEffect} from 'react';\r\nimport { Route, Redirect, BrowserRouter as Router, Switch } from 'react-router-dom'\r\nimport './index.css';\r\nimport axios from \"axios\"\r\n\r\nimport { connect } from \"react-redux\"\r\nimport { selectTheme } from \"./actions\"\r\n\r\nimport { ThemeProvider } from \"@material-ui/core/styles\"\r\nimport { redGreyTheme, darkModeTheme } from \"./themes\"\r\n\r\nimport Main         from  \"./components/pages/main\"\r\nimport Login        from  \"./components/pages/login\"\r\nimport Signup       from  \"./components/pages/signup\"\r\nimport Projects     from  \"./components/pages/projects\"\r\nimport Settings     from  \"./components/pages/settings\"\r\nimport Support      from  \"./components/pages/support\"\r\nimport ProjectPage  from  \"./components/pages/projectPage\"\r\n\r\nvar jwt = require(\"jsonwebtoken\")\r\n\r\nconst AuthenticatedRoute = ({ component: Component, ...rest }) => (\r\n  <Route {...rest} render={props => (\r\n    localStorage.getItem('authToken') ? (\r\n      <Component {...props}/>\r\n    ) : (\r\n      <Redirect to={{\r\n        pathname: '/login',\r\n        state: { from: props.location }\r\n      }}/>\r\n    )\r\n  )}/>\r\n)\r\n\r\nconst AppRouter = (props) => {\r\n\r\n  useEffect( () => {\r\n\r\n    if (window.localStorage.getItem(\"authToken\") !== \"undefined\" && window.localStorage.getItem(\"authToken\")){\r\n      const encrypted = window.localStorage.getItem(\"authToken\")\r\n      const token = jwt.decode(JSON.parse(encrypted))\r\n\r\n      const getSettings = async() => {\r\n        await axios.get(\"/api/user_settings/\" + token.user_id).then((settings) => {\r\n\r\n          const getThemeId = () => {\r\n            switch (settings.data.rows[0].theme){\r\n              case \"redGreyTheme\":\r\n                return 0\r\n              case \"darkModeTheme\":\r\n                return 1\r\n              case \"orangeBlackTheme\":\r\n                return 2\r\n            }\r\n          }\r\n\r\n          const theme = {\r\n            name: settings.data.rows[0].theme,\r\n            id: getThemeId()\r\n          }\r\n\r\n\r\n          props.selectTheme(theme)\r\n        })\r\n        .catch((error) => {\r\n          console.log(error)\r\n        })\r\n      }\r\n      getSettings()\r\n    }\r\n  }, [])\r\n\r\n  const returnTheme = () => {\r\n    switch (props.selectedTheme.name) {\r\n      case \"redGreyTheme\":\r\n        return redGreyTheme\r\n      case \"darkModeTheme\":\r\n        return darkModeTheme\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <ThemeProvider theme={returnTheme()}>\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Main} />\r\n            <Route path=\"/login\" component={Login} />\r\n            <Route path=\"/signup\" component={Signup} />\r\n            <Route path=\"/settings\" component={Settings} />\r\n            <Route path=\"/support\" component={Support} />\r\n            <AuthenticatedRoute path=\"/projects\" component={Projects} />\r\n            <AuthenticatedRoute path=\"/:project_name/:project_id\" component={ProjectPage} />\r\n          </Switch>\r\n        </ThemeProvider>\r\n      </div>\r\n    </Router>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { selectedTheme: state.selectedTheme }\r\n}\r\n\r\nexport default connect(mapStateToProps, { selectTheme })(AppRouter)","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { combineReducers } from \"redux\"\r\n\r\nconst selectedThemeReducer = (selectedTheme = {name: \"redGreyTheme\", id: 0}, action) => {\r\n  if (action.type === \"THEME_SELECTED\") {\r\n    return action.payload\r\n  }\r\n\r\n  return selectedTheme\r\n}\r\n\r\nconst projectSettingsReducer = (projectSettings = {\r\n  changeSettingsAuth: 9,\r\n  editFilesAuth: 9,\r\n  projectFunctions: []\r\n},action) => {\r\n  \r\n  if (action.type === \"CHANGE_SETTINGS_AUTH\") {\r\n    return {...projectSettings, changeSettingsAuth: action.payload}\r\n  }\r\n\r\n  if (action.type === \"EDIT_FILES_AUTH\") {\r\n    return {...projectSettings, editFilesAuth: action.payload}\r\n  }\r\n  \r\n  return projectSettings\r\n}\r\n\r\nexport default combineReducers({\r\n  selectedTheme: selectedThemeReducer,\r\n  projectSettings: projectSettingsReducer,\r\n})","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport AppRouter from \"./router\"\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport { Provider } from \"react-redux\"\r\nimport { createStore } from \"redux\"\r\nimport reducers from \"./reducers\"\r\n\r\nconst store = createStore(\r\n  reducers, \r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <AppRouter />\r\n  </Provider>\r\n,document.getElementById('root'))\r\n\r\nserviceWorker.unregister();"],"sourceRoot":""}